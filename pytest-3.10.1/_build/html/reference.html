
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Reference &#8212; pytest documentation</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/pytest1favi.ico"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Good Integration Practices" href="goodpractices.html" />
    <link rel="prev" title="Logging" href="logging.html" />
  </head><body>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="goodpractices.html" title="Good Integration Practices"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="logging.html" title="Logging"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">pytest-3.10</a> &#187;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">

  <div class="section" id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<p>This page contains the full reference to pytest’s API.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#functions" id="id9">Functions</a><ul>
<li><a class="reference internal" href="#pytest-approx" id="id10">pytest.approx</a></li>
<li><a class="reference internal" href="#pytest-fail" id="id11">pytest.fail</a></li>
<li><a class="reference internal" href="#pytest-skip" id="id12">pytest.skip</a></li>
<li><a class="reference internal" href="#pytest-importorskip" id="id13">pytest.importorskip</a></li>
<li><a class="reference internal" href="#pytest-xfail" id="id14">pytest.xfail</a></li>
<li><a class="reference internal" href="#pytest-exit" id="id15">pytest.exit</a></li>
<li><a class="reference internal" href="#pytest-main" id="id16">pytest.main</a></li>
<li><a class="reference internal" href="#pytest-param" id="id17">pytest.param</a></li>
<li><a class="reference internal" href="#pytest-raises" id="id18">pytest.raises</a></li>
<li><a class="reference internal" href="#pytest-deprecated-call" id="id19">pytest.deprecated_call</a></li>
<li><a class="reference internal" href="#pytest-register-assert-rewrite" id="id20">pytest.register_assert_rewrite</a></li>
<li><a class="reference internal" href="#pytest-warns" id="id21">pytest.warns</a></li>
<li><a class="reference internal" href="#pytest-freeze-includes" id="id22">pytest.freeze_includes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#marks" id="id23">Marks</a><ul>
<li><a class="reference internal" href="#pytest-mark-filterwarnings" id="id24">pytest.mark.filterwarnings</a></li>
<li><a class="reference internal" href="#pytest-mark-parametrize" id="id25">pytest.mark.parametrize</a></li>
<li><a class="reference internal" href="#pytest-mark-skip" id="id26">pytest.mark.skip</a></li>
<li><a class="reference internal" href="#pytest-mark-skipif" id="id27">pytest.mark.skipif</a></li>
<li><a class="reference internal" href="#pytest-mark-usefixtures" id="id28">pytest.mark.usefixtures</a></li>
<li><a class="reference internal" href="#pytest-mark-xfail" id="id29">pytest.mark.xfail</a></li>
<li><a class="reference internal" href="#custom-marks" id="id30">custom marks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixtures" id="id31">Fixtures</a><ul>
<li><a class="reference internal" href="#pytest-fixture" id="id32">&#64;pytest.fixture</a></li>
<li><a class="reference internal" href="#config-cache" id="id33">config.cache</a></li>
<li><a class="reference internal" href="#capsys" id="id34">capsys</a></li>
<li><a class="reference internal" href="#capsysbinary" id="id35">capsysbinary</a></li>
<li><a class="reference internal" href="#capfd" id="id36">capfd</a></li>
<li><a class="reference internal" href="#capfdbinary" id="id37">capfdbinary</a></li>
<li><a class="reference internal" href="#doctest-namespace" id="id38">doctest_namespace</a></li>
<li><a class="reference internal" href="#request" id="id39">request</a></li>
<li><a class="reference internal" href="#pytestconfig" id="id40">pytestconfig</a></li>
<li><a class="reference internal" href="#record-property" id="id41">record_property</a></li>
<li><a class="reference internal" href="#caplog" id="id42">caplog</a></li>
<li><a class="reference internal" href="#monkeypatch" id="id43">monkeypatch</a></li>
<li><a class="reference internal" href="#testdir" id="id44">testdir</a></li>
<li><a class="reference internal" href="#recwarn" id="id45">recwarn</a></li>
<li><a class="reference internal" href="#tmpdir" id="id46">tmpdir</a></li>
<li><a class="reference internal" href="#tmpdir-factory" id="id47">tmpdir_factory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hooks" id="id48">Hooks</a><ul>
<li><a class="reference internal" href="#bootstrapping-hooks" id="id49">Bootstrapping hooks</a></li>
<li><a class="reference internal" href="#initialization-hooks" id="id50">Initialization hooks</a></li>
<li><a class="reference internal" href="#test-running-hooks" id="id51">Test running hooks</a></li>
<li><a class="reference internal" href="#collection-hooks" id="id52">Collection hooks</a></li>
<li><a class="reference internal" href="#reporting-hooks" id="id53">Reporting hooks</a></li>
<li><a class="reference internal" href="#debugging-interaction-hooks" id="id54">Debugging/Interaction hooks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#objects" id="id55">Objects</a><ul>
<li><a class="reference internal" href="#callinfo" id="id56">CallInfo</a></li>
<li><a class="reference internal" href="#class" id="id57">Class</a></li>
<li><a class="reference internal" href="#collector" id="id58">Collector</a></li>
<li><a class="reference internal" href="#config" id="id59">Config</a></li>
<li><a class="reference internal" href="#exceptioninfo" id="id60">ExceptionInfo</a></li>
<li><a class="reference internal" href="#fixturedef" id="id61">FixtureDef</a></li>
<li><a class="reference internal" href="#fscollector" id="id62">FSCollector</a></li>
<li><a class="reference internal" href="#function" id="id63">Function</a></li>
<li><a class="reference internal" href="#item" id="id64">Item</a></li>
<li><a class="reference internal" href="#markdecorator" id="id65">MarkDecorator</a></li>
<li><a class="reference internal" href="#markgenerator" id="id66">MarkGenerator</a></li>
<li><a class="reference internal" href="#markinfo" id="id67">MarkInfo</a></li>
<li><a class="reference internal" href="#mark" id="id68">Mark</a></li>
<li><a class="reference internal" href="#metafunc" id="id69">Metafunc</a></li>
<li><a class="reference internal" href="#module" id="id70">Module</a></li>
<li><a class="reference internal" href="#node" id="id71">Node</a></li>
<li><a class="reference internal" href="#parser" id="id72">Parser</a></li>
<li><a class="reference internal" href="#pluginmanager" id="id73">PluginManager</a></li>
<li><a class="reference internal" href="#pytestpluginmanager" id="id74">PytestPluginManager</a></li>
<li><a class="reference internal" href="#session" id="id75">Session</a></li>
<li><a class="reference internal" href="#testreport" id="id76">TestReport</a></li>
<li><a class="reference internal" href="#result" id="id77">_Result</a></li>
</ul>
</li>
<li><a class="reference internal" href="#special-variables" id="id78">Special Variables</a><ul>
<li><a class="reference internal" href="#pytest-plugins" id="id79">pytest_plugins</a></li>
<li><a class="reference internal" href="#pytest-mark" id="id80">pytest_mark</a></li>
<li><a class="reference internal" href="#pytest-dont-rewrite-module-docstring" id="id81">PYTEST_DONT_REWRITE (module docstring)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-variables" id="id82">Environment Variables</a><ul>
<li><a class="reference internal" href="#pytest-addopts" id="id83">PYTEST_ADDOPTS</a></li>
<li><a class="reference internal" href="#pytest-debug" id="id84">PYTEST_DEBUG</a></li>
<li><a class="reference internal" href="#id7" id="id85">PYTEST_PLUGINS</a></li>
<li><a class="reference internal" href="#pytest-disable-plugin-autoload" id="id86">PYTEST_DISABLE_PLUGIN_AUTOLOAD</a></li>
<li><a class="reference internal" href="#pytest-current-test" id="id87">PYTEST_CURRENT_TEST</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options" id="id88">Configuration Options</a></li>
</ul>
</div>
<div class="section" id="functions">
<h2><a class="toc-backref" href="#id9">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pytest-approx">
<h3><a class="toc-backref" href="#id10">pytest.approx</a><a class="headerlink" href="#pytest-approx" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.python_api.approx">
<code class="descname">approx</code><span class="sig-paren">(</span><em>expected</em>, <em>rel=None</em>, <em>abs=None</em>, <em>nan_ok=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python_api.html#approx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python_api.approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that two numbers (or two sets of numbers) are equal to each other
within some tolerance.</p>
<p>Due to the <a class="reference external" href="https://docs.python.org/3/tutorial/floatingpoint.html">intricacies of floating-point arithmetic</a>, numbers that we
would intuitively expect to be equal are not always so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">==</span> <span class="mf">0.3</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This problem is commonly encountered when writing tests, e.g. when making
sure that floating-point values are what you expect them to be.  One way to
deal with this problem is to assert that two floating-point numbers are
equal to within some appropriate tolerance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">((</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, comparisons like this are tedious to write and difficult to
understand.  Furthermore, absolute comparisons like the one above are
usually discouraged because there’s no tolerance that works well for all
situations.  <code class="docutils literal notranslate"><span class="pre">1e-6</span></code> is good for numbers around <code class="docutils literal notranslate"><span class="pre">1</span></code>, but too small for
very big numbers and too big for very small ones.  It’s better to express
the tolerance as a fraction of the expected value, but relative comparisons
like that are even more difficult to write correctly and concisely.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">approx</span></code> class performs floating-point comparisons using a syntax
that’s as intuitive as possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pytest</span> <span class="kn">import</span> <span class="n">approx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The same syntax also works for sequences of numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.4</span><span class="p">)</span> <span class="o">==</span> <span class="n">approx</span><span class="p">((</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Dictionary <em>values</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.4</span><span class="p">}</span> <span class="o">==</span> <span class="n">approx</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>And for a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array against a scalar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">approx</span></code> considers numbers within a relative tolerance of
<code class="docutils literal notranslate"><span class="pre">1e-6</span></code> (i.e. one part in a million) of its expected value to be equal.
This treatment would lead to surprising results if the expected value was
<code class="docutils literal notranslate"><span class="pre">0.0</span></code>, because nothing but <code class="docutils literal notranslate"><span class="pre">0.0</span></code> itself is relatively close to <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.
To handle this case less surprisingly, <code class="docutils literal notranslate"><span class="pre">approx</span></code> also considers numbers
within an absolute tolerance of <code class="docutils literal notranslate"><span class="pre">1e-12</span></code> of its expected value to be
equal.  Infinity and NaN are special cases.  Infinity is only considered
equal to itself, regardless of the relative tolerance.  NaN is not
considered equal to anything by default, but you can make it be equal to
itself by setting the <code class="docutils literal notranslate"><span class="pre">nan_ok</span></code> argument to True.  (This is meant to
facilitate comparing arrays that use NaN to mean “no data”.)</p>
<p>Both the relative and absolute tolerances can be changed by passing
arguments to the <code class="docutils literal notranslate"><span class="pre">approx</span></code> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If you specify <code class="docutils literal notranslate"><span class="pre">abs</span></code> but not <code class="docutils literal notranslate"><span class="pre">rel</span></code>, the comparison will not consider
the relative tolerance at all.  In other words, two numbers that are within
the default relative tolerance of <code class="docutils literal notranslate"><span class="pre">1e-6</span></code> will still be considered unequal
if they exceed the specified absolute tolerance.  If you specify both
<code class="docutils literal notranslate"><span class="pre">abs</span></code> and <code class="docutils literal notranslate"><span class="pre">rel</span></code>, the numbers will be considered equal if either
tolerance is met:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If you’re thinking about using <code class="docutils literal notranslate"><span class="pre">approx</span></code>, then you might want to know how
it compares to other good ways of comparing floating-point numbers.  All of
these algorithms are based on relative and absolute tolerances and should
agree for the most part, but they do have meaningful differences:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">math.isclose(a,</span> <span class="pre">b,</span> <span class="pre">rel_tol=1e-9,</span> <span class="pre">abs_tol=0.0)</span></code>:  True if the relative
tolerance is met w.r.t. either <code class="docutils literal notranslate"><span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">b</span></code> or if the absolute
tolerance is met.  Because the relative tolerance is calculated w.r.t.
both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test is symmetric (i.e.  neither <code class="docutils literal notranslate"><span class="pre">a</span></code> nor
<code class="docutils literal notranslate"><span class="pre">b</span></code> is a “reference value”).  You have to specify an absolute tolerance
if you want to compare to <code class="docutils literal notranslate"><span class="pre">0.0</span></code> because there is no tolerance by
default.  Only available in python&gt;=3.5.  <a class="reference external" href="https://docs.python.org/3/library/math.html#math.isclose">More information…</a></li>
<li><code class="docutils literal notranslate"><span class="pre">numpy.isclose(a,</span> <span class="pre">b,</span> <span class="pre">rtol=1e-5,</span> <span class="pre">atol=1e-8)</span></code>: True if the difference
between <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> is less that the sum of the relative tolerance
w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code> and the absolute tolerance.  Because the relative tolerance
is only calculated w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test is asymmetric and you can
think of <code class="docutils literal notranslate"><span class="pre">b</span></code> as the reference value.  Support for comparing sequences
is provided by <code class="docutils literal notranslate"><span class="pre">numpy.allclose</span></code>.  <a class="reference external" href="http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.isclose.html">More information…</a></li>
<li><code class="docutils literal notranslate"><span class="pre">unittest.TestCase.assertAlmostEqual(a,</span> <span class="pre">b)</span></code>: True if <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>
are within an absolute tolerance of <code class="docutils literal notranslate"><span class="pre">1e-7</span></code>.  No relative tolerance is
considered and the absolute tolerance cannot be changed, so this function
is not appropriate for very large or very small numbers.  Also, it’s only
available in subclasses of <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> and it’s ugly because it
doesn’t follow PEP8.  <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual">More information…</a></li>
<li><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">pytest.approx(b,</span> <span class="pre">rel=1e-6,</span> <span class="pre">abs=1e-12)</span></code>: True if the relative
tolerance is met w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code> or if the absolute tolerance is met.
Because the relative tolerance is only calculated w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test
is asymmetric and you can think of <code class="docutils literal notranslate"><span class="pre">b</span></code> as the reference value.  In the
special case that you explicitly specify an absolute tolerance but not a
relative tolerance, only the absolute tolerance is considered.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.2.</span></p>
</div>
<p>In order to avoid inconsistent behavior, <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> is
raised for <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> comparisons.
The example below illustrates the problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">1e-10</span>  <span class="c1"># calls approx(0.1).__gt__(0.1 + 1e-10)</span>
<span class="k">assert</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">1e-10</span> <span class="o">&gt;</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># calls approx(0.1).__lt__(0.1 + 1e-10)</span>
</pre></div>
</div>
<p class="last">In the second example one expects <code class="docutils literal notranslate"><span class="pre">approx(0.1).__le__(0.1</span> <span class="pre">+</span> <span class="pre">1e-10)</span></code>
to be called. But instead, <code class="docutils literal notranslate"><span class="pre">approx(0.1).__lt__(0.1</span> <span class="pre">+</span> <span class="pre">1e-10)</span></code> is used to
comparison. This is because the call hierarchy of rich comparisons
follows a fixed behavior. <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__ge__">More information…</a></p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-fail">
<h3><a class="toc-backref" href="#id11">pytest.fail</a><a class="headerlink" href="#pytest-fail" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skipping"><span class="std std-ref">Skip and xfail: dealing with tests that cannot succeed</span></a></p>
<dl class="function">
<dt id="_pytest.outcomes.fail">
<code class="descname">fail</code><span class="sig-paren">(</span><em>msg=''</em>, <em>pytrace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly fail an executing test with the given message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the message to show the user as reason for the failure.</li>
<li><strong>pytrace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if false the msg represents the full failure information and no
python traceback will be reported.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-skip">
<h3><a class="toc-backref" href="#id12">pytest.skip</a><a class="headerlink" href="#pytest-skip" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.skip">
<code class="descname">skip</code><span class="sig-paren">(</span><em>msg</em><span class="optional">[</span>, <em>allow_module_level=False</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#skip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip an executing test with the given message.</p>
<p>This function should be called only during testing (setup, call or teardown) or
during collection by using the <code class="docutils literal notranslate"><span class="pre">allow_module_level</span></code> flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>allow_module_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – allows this function to be called at
module level, skipping the rest of the module. Default to False.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is better to use the <a class="reference internal" href="#pytest-mark-skipif-ref"><span class="std std-ref">pytest.mark.skipif</span></a> marker when possible to declare a test to be
skipped under certain conditions like mismatching platforms or
dependencies.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-importorskip">
<h3><a class="toc-backref" href="#id13">pytest.importorskip</a><a class="headerlink" href="#pytest-importorskip" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.importorskip">
<code class="descname">importorskip</code><span class="sig-paren">(</span><em>modname</em>, <em>minversion=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#importorskip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.importorskip" title="Permalink to this definition">¶</a></dt>
<dd><p>return imported module if it has at least “minversion” as its
__version__ attribute.  If no minversion is specified the a skip
is only triggered if the module can not be imported.</p>
</dd></dl>

</div>
<div class="section" id="pytest-xfail">
<h3><a class="toc-backref" href="#id14">pytest.xfail</a><a class="headerlink" href="#pytest-xfail" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.xfail">
<code class="descname">xfail</code><span class="sig-paren">(</span><em>reason=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#xfail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.xfail" title="Permalink to this definition">¶</a></dt>
<dd><p>Imperatively xfail an executing test or setup functions with the given reason.</p>
<p>This function should be called only during testing (setup, call or teardown).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is better to use the <a class="reference internal" href="#pytest-mark-xfail-ref"><span class="std std-ref">pytest.mark.xfail</span></a> marker when possible to declare a test to be
xfailed under certain conditions like known bugs or missing features.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-exit">
<h3><a class="toc-backref" href="#id15">pytest.exit</a><a class="headerlink" href="#pytest-exit" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.exit">
<code class="descname">exit</code><span class="sig-paren">(</span><em>msg</em>, <em>returncode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit testing process as if KeyboardInterrupt was triggered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – message to display upon exit.</li>
<li><strong>returncode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – return code to be used when exiting pytest.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-main">
<h3><a class="toc-backref" href="#id16">pytest.main</a><a class="headerlink" href="#pytest-main" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.config.main">
<code class="descname">main</code><span class="sig-paren">(</span><em>args=None</em>, <em>plugins=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.main" title="Permalink to this definition">¶</a></dt>
<dd><p>return exit code, after performing an in-process test run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> – list of command line arguments.</li>
<li><strong>plugins</strong> – list of plugin objects to be auto-registered during
initialization.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-param">
<h3><a class="toc-backref" href="#id17">pytest.param</a><a class="headerlink" href="#pytest-param" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pytest.param">
<code class="descname">param</code><span class="sig-paren">(</span><em>*values</em><span class="optional">[</span>, <em>id</em><span class="optional">]</span><span class="optional">[</span>, <em>marks</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark.html#param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.param" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a parameter in <a class="reference internal" href="#pytest-mark-parametrize">pytest.mark.parametrize</a> calls or
<a class="reference internal" href="fixture.html#fixture-parametrize-marks"><span class="std std-ref">parametrized fixtures</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;test_input,expected&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;3+5&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="s2">&quot;6*9&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">),</span>
<span class="p">])</span>
<span class="k">def</span> <span class="nf">test_eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>values</strong> – variable args of the values of the parameter set, in order.</li>
<li><strong>marks</strong> – a single mark or a list of marks to be applied to this parameter set.</li>
<li><strong>id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the id to attribute to this parameter set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-raises">
<h3><a class="toc-backref" href="#id18">pytest.raises</a><a class="headerlink" href="#pytest-raises" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="assert.html#assertraises"><span class="std std-ref">Assertions about expected exceptions</span></a>.</p>
<dl class="function">
<dt id="pytest.raises">
<em class="property">with </em><code class="descname">raises</code><span class="sig-paren">(</span><em>expected_exception: Exception</em><span class="optional">[</span>, <em>match</em><span class="optional">]</span><span class="optional">[</span>, <em>message</em><span class="optional">]</span><span class="sig-paren">)</span><em class="property">&nbsp;as excinfo</em><a class="reference internal" href="_modules/_pytest/python_api.html#raises"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.raises" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that a code block/function call raises <code class="docutils literal notranslate"><span class="pre">expected_exception</span></code>
and raise a failure exception otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> – if specified, provides a custom failure message if the
exception is not raised</li>
<li><strong>match</strong> – if specified, asserts that the exception matches a text or regex</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This helper produces a <code class="docutils literal notranslate"><span class="pre">ExceptionInfo()</span></code> object (see below).</p>
<p>You may use this function as a context manager:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">):</span>
<span class="gp">... </span>   <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.10.</span></p>
</div>
<p>In the context manager form you may use the keyword argument
<code class="docutils literal notranslate"><span class="pre">message</span></code> to specify a custom failure message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Expecting ZeroDivisionError&quot;</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">pass</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">Failed</span>: <span class="n">Expecting ZeroDivisionError</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When using <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> as a context manager, it’s worthwhile to
note that normal context manager rules apply and that the exception
raised <em>must</em> be the final line in the scope of the context manager.
Lines of code after that, within the scope of the context manager will
not be executed. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be &lt;= 10&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="ne">ValueError</span>  <span class="c1"># this will not execute</span>
</pre></div>
</div>
<p>Instead, the following approach must be taken (note the difference in
scope):</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be &lt;= 10&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="ne">ValueError</span>
</pre></div>
</div>
</div>
<p>Since version <code class="docutils literal notranslate"><span class="pre">3.1</span></code> you can use the keyword argument <code class="docutils literal notranslate"><span class="pre">match</span></code> to assert that the
exception matches a text or regex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;must be 0 or None&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be 0 or None&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be 42&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Legacy forms</strong></p>
<p>The forms below are fully supported but are discouraged for new code because the
context manager form is regarded as more readable and less error-prone.</p>
<p>It is possible to specify a callable by passing a to-be-called lambda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
</pre></div>
</div>
<p>or you can specify an arbitrary callable with arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
</pre></div>
</div>
<p>It is also possible to pass a string to be evaluated at runtime:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="s2">&quot;f(0)&quot;</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
</pre></div>
</div>
<p>The string will be evaluated using the same <code class="docutils literal notranslate"><span class="pre">locals()</span></code> and <code class="docutils literal notranslate"><span class="pre">globals()</span></code>
at the moment of the <code class="docutils literal notranslate"><span class="pre">raises</span></code> call.</p>
<p>Consult the API of <code class="docutils literal notranslate"><span class="pre">excinfo</span></code> objects: <a class="reference internal" href="#_pytest._code.ExceptionInfo" title="_pytest._code.ExceptionInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptionInfo</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Similar to caught exception objects in Python, explicitly clearing
local references to returned <code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code> objects can
help the Python interpreter speed up its garbage collection.</p>
<p class="last">Clearing those references breaks a reference cycle
(<code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code> –&gt; caught exception –&gt; frame stack raising
the exception –&gt; current frame stack –&gt; local variables –&gt;
<code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code>) which makes Python keep all objects referenced
from that cycle (including all local variables in the current
frame) alive until the next cyclic garbage collection run. See the
official Python <code class="docutils literal notranslate"><span class="pre">try</span></code> statement documentation for more detailed
information.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-deprecated-call">
<h3><a class="toc-backref" href="#id19">pytest.deprecated_call</a><a class="headerlink" href="#pytest-deprecated-call" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#ensuring-function-triggers"><span class="std std-ref">Ensuring code triggers a deprecation warning</span></a>.</p>
<dl class="function">
<dt id="pytest.deprecated_call">
<em class="property">with </em><code class="descname">deprecated_call</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#deprecated_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.deprecated_call" title="Permalink to this definition">¶</a></dt>
<dd><p>context manager that can be used to ensure a block of code triggers a
<code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> or <code class="docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">api_call_v2</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;use v3 of this api&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">200</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">deprecated_call</span><span class="p">():</span>
<span class="gp">... </span>   <span class="k">assert</span> <span class="n">api_call_v2</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">deprecated_call</span></code> can also be used by passing a function and <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">*kwargs</span></code>,
in which case it will ensure calling <code class="docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code> produces one of the warnings
types above.</p>
</dd></dl>

</div>
<div class="section" id="pytest-register-assert-rewrite">
<h3><a class="toc-backref" href="#id20">pytest.register_assert_rewrite</a><a class="headerlink" href="#pytest-register-assert-rewrite" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="writing_plugins.html#assertion-rewriting"><span class="std std-ref">Assertion Rewriting</span></a>.</p>
<dl class="function">
<dt id="pytest.register_assert_rewrite">
<code class="descname">register_assert_rewrite</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/assertion.html#register_assert_rewrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.register_assert_rewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one or more module names to be rewritten on import.</p>
<p>This function will make sure that this module or all modules inside
the package will get their assert statements rewritten.
Thus you should make sure to call this before the module is
actually imported, usually in your __init__.py if you are a plugin
using a package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – if the given module names are not strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-warns">
<h3><a class="toc-backref" href="#id21">pytest.warns</a><a class="headerlink" href="#pytest-warns" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#assertwarnings"><span class="std std-ref">Asserting warnings with the warns function</span></a></p>
<dl class="function">
<dt id="pytest.warns">
<em class="property">with </em><code class="descname">warns</code><span class="sig-paren">(</span><em>expected_warning: Exception</em><span class="optional">[</span>, <em>match</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#warns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.warns" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that code raises a particular class of warning.</p>
<p>Specifically, the parameter <code class="docutils literal notranslate"><span class="pre">expected_warning</span></code> can be a warning class or
sequence of warning classes, and the inside the <code class="docutils literal notranslate"><span class="pre">with</span></code> block must issue a warning of that class or
classes.</p>
<p>This helper produces a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">warnings.WarningMessage</span></code> objects,
one for each warning raised.</p>
<p>This function can be used as a context manager, or any of the other ways
<code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;my warning&quot;</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
</pre></div>
</div>
<p>In the context manager form you may use the keyword argument <code class="docutils literal notranslate"><span class="pre">match</span></code> to assert
that the exception matches a text or regex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;must be 0 or None&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;value must be 0 or None&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;value must be 42&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;this is not here&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">Failed</span>: <span class="n">DID NOT WARN. No warnings of type ...UserWarning... was emitted...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-freeze-includes">
<h3><a class="toc-backref" href="#id22">pytest.freeze_includes</a><a class="headerlink" href="#pytest-freeze-includes" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/simple.html#freezing-pytest"><span class="std std-ref">Freezing pytest</span></a>.</p>
<dl class="function">
<dt id="pytest.freeze_includes">
<code class="descname">freeze_includes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/freeze_support.html#freeze_includes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.freeze_includes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of module names used by pytest that should be
included by cx_freeze.</p>
</dd></dl>

</div>
</div>
<div class="section" id="marks">
<span id="marks-ref"></span><h2><a class="toc-backref" href="#id23">Marks</a><a class="headerlink" href="#marks" title="Permalink to this headline">¶</a></h2>
<p>Marks can be used apply meta data to <em>test functions</em> (but not fixtures), which can then be accessed by
fixtures or plugins.</p>
<div class="section" id="pytest-mark-filterwarnings">
<span id="pytest-mark-filterwarnings-ref"></span><h3><a class="toc-backref" href="#id24">pytest.mark.filterwarnings</a><a class="headerlink" href="#pytest-mark-filterwarnings" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#filterwarnings"><span class="std std-ref">&#64;pytest.mark.filterwarnings</span></a>.</p>
<p>Add warning filters to marked test items.</p>
<dl class="function">
<dt id="pytest.mark.filterwarnings">
<code class="descclassname">pytest.mark.</code><code class="descname">filterwarnings</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.filterwarnings" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>A <em>warning specification string</em>, which is composed of contents of the tuple <code class="docutils literal notranslate"><span class="pre">(action,</span> <span class="pre">message,</span> <span class="pre">category,</span> <span class="pre">module,</span> <span class="pre">lineno)</span></code>
as specified in <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warning-filter">The Warnings filter</a> section of
the Python documentation, separated by <code class="docutils literal notranslate"><span class="pre">&quot;:&quot;</span></code>. Optional fields can be omitted.
Module names passed for filtering are not regex-escaped.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">warnings</span><span class="p">(</span><span class="s2">&quot;ignore:.*usage will be deprecated.*:DeprecationWarning&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-mark-parametrize">
<span id="pytest-mark-parametrize-ref"></span><h3><a class="toc-backref" href="#id25">pytest.mark.parametrize</a><a class="headerlink" href="#pytest-mark-parametrize" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="parametrize.html"><span class="doc">Parametrizing fixtures and test functions</span></a>.</p>
<dl class="method">
<dt id="_pytest.python.Metafunc.parametrize">
<code class="descclassname">Metafunc.</code><code class="descname">parametrize</code><span class="sig-paren">(</span><em>argnames</em>, <em>argvalues</em>, <em>indirect=False</em>, <em>ids=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc.parametrize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Metafunc.parametrize" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new invocations to the underlying test function using the list
of argvalues for the given argnames.  Parametrization is performed
during the collection phase.  If you need to setup expensive resources
see about setting indirect to do it rather at test setup time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argnames</strong> – a comma-separated string denoting one or more argument
names, or a list/tuple of argument strings.</li>
<li><strong>argvalues</strong> – The list of argvalues determines how often a
test is invoked with different argument values.  If only one
argname was specified argvalues is a list of values.  If N
argnames were specified, argvalues must be a list of N-tuples,
where each tuple-element specifies a value for its respective
argname.</li>
<li><strong>indirect</strong> – The list of argnames or boolean. A list of arguments’
names (subset of argnames). If True the list contains all names from
the argnames. Each argvalue corresponding to an argname in this list will
be passed as request.param to its respective argname fixture
function so that it can perform more expensive setups during the
setup phase of a test rather than at collection time.</li>
<li><strong>ids</strong> – list of string ids, or a callable.
If strings, each is corresponding to the argvalues so that they are
part of the test id. If None is given as id of specific test, the
automatically generated id for that argument will be used.
If callable, it should take one argument (a single argvalue) and return
a string or return None. If None, the automatically generated id for that
argument will be used.
If no ids are provided they will be generated automatically from
the argvalues.</li>
<li><strong>scope</strong> – if specified it denotes the scope of the parameters.
The scope is used for grouping tests by parameter instances.
It will also override any fixture-function defined scope, allowing
to set a dynamic scope using test context or configuration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-mark-skip">
<span id="pytest-mark-skip-ref"></span><h3><a class="toc-backref" href="#id26">pytest.mark.skip</a><a class="headerlink" href="#pytest-mark-skip" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skip"><span class="std std-ref">Skipping test functions</span></a>.</p>
<p>Unconditionally skip a test function.</p>
<dl class="function">
<dt id="pytest.mark.skip">
<code class="descclassname">pytest.mark.</code><code class="descname">skip</code><span class="sig-paren">(</span><em>*</em>, <em>reason=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.skip" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Reason why the test function is being skipped.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-mark-skipif">
<span id="pytest-mark-skipif-ref"></span><h3><a class="toc-backref" href="#id27">pytest.mark.skipif</a><a class="headerlink" href="#pytest-mark-skipif" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skipif"><span class="std std-ref">Skipping test functions</span></a>.</p>
<p>Skip a test function if a condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="function">
<dt id="pytest.mark.skipif">
<code class="descclassname">pytest.mark.</code><code class="descname">skipif</code><span class="sig-paren">(</span><em>condition</em>, <em>*</em>, <em>reason=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.skipif" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <code class="docutils literal notranslate"><span class="pre">True/False</span></code> if the condition should be skipped or a <a class="reference internal" href="historical-notes.html#string-conditions"><span class="std std-ref">condition string</span></a>.</li>
<li><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Reason why the test function is being skipped.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-mark-usefixtures">
<span id="pytest-mark-usefixtures-ref"></span><h3><a class="toc-backref" href="#id28">pytest.mark.usefixtures</a><a class="headerlink" href="#pytest-mark-usefixtures" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="fixture.html#usefixtures"><span class="std std-ref">Using fixtures from classes, modules or projects</span></a>.</p>
<p>Mark a test function as using the given fixture names.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This mark has no effect when applied
to a <strong>fixture</strong> function.</p>
</div>
<dl class="function">
<dt id="pytest.mark.usefixtures">
<code class="descclassname">pytest.mark.</code><code class="descname">usefixtures</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.usefixtures" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> – the names of the fixture to use, as strings</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pytest-mark-xfail">
<span id="pytest-mark-xfail-ref"></span><h3><a class="toc-backref" href="#id29">pytest.mark.xfail</a><a class="headerlink" href="#pytest-mark-xfail" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#xfail"><span class="std std-ref">XFail: mark test functions as expected to fail</span></a>.</p>
<p>Marks a test function as <em>expected to fail</em>.</p>
<dl class="function">
<dt id="pytest.mark.xfail">
<code class="descclassname">pytest.mark.</code><code class="descname">xfail</code><span class="sig-paren">(</span><em>condition=None</em>, <em>*</em>, <em>reason=None</em>, <em>raises=None</em>, <em>run=True</em>, <em>strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.xfail" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <code class="docutils literal notranslate"><span class="pre">True/False</span></code> if the condition should be marked as xfail or a <a class="reference internal" href="historical-notes.html#string-conditions"><span class="std std-ref">condition string</span></a>.</li>
<li><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Reason why the test function is marked as xfail.</li>
<li><strong>raises</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><em>Exception</em></a>) – Exception subclass expected to be raised by the test function; other exceptions will fail the test.</li>
<li><strong>run</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If the test function should actually be executed. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the function will always xfail and will
not be executed (useful a function is segfaulting).</li>
<li><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – <ul>
<li>If <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default) the function will be shown in the terminal output as <code class="docutils literal notranslate"><span class="pre">xfailed</span></code> if it fails
and as <code class="docutils literal notranslate"><span class="pre">xpass</span></code> if it passes. In both cases this will not cause the test suite to fail as a whole. This
is particularly useful to mark <em>flaky</em> tests (tests that random at fail) to be tackled later.</li>
<li>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will be shown in the terminal output as <code class="docutils literal notranslate"><span class="pre">xfailed</span></code> if it fails, but if it
unexpectedly passes then it will <strong>fail</strong> the test suite. This is particularly useful to mark functions
that are always failing and there should be a clear indication if they unexpectedly start to pass (for example
a new release of a library fixes a known bug).</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="custom-marks">
<h3><a class="toc-backref" href="#id30">custom marks</a><a class="headerlink" href="#custom-marks" title="Permalink to this headline">¶</a></h3>
<p>Marks are created dynamically using the factory object <code class="docutils literal notranslate"><span class="pre">pytest.mark</span></code> and applied as a decorator.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">timeout</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;slow&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;thread&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Will create and attach a <a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mark</span></code></a> object to the collected
<a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a>, which can then be accessed by fixtures or hooks with
<a class="reference internal" href="#_pytest.nodes.Node.iter_markers" title="_pytest.nodes.Node.iter_markers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Node.iter_markers</span></code></a>. The <code class="docutils literal notranslate"><span class="pre">mark</span></code> object will have the following attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mark</span><span class="o">.</span><span class="n">args</span> <span class="o">==</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;slow&quot;</span><span class="p">)</span>
<span class="n">mark</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">==</span> <span class="p">{</span><span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;thread&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fixtures">
<h2><a class="toc-backref" href="#id31">Fixtures</a><a class="headerlink" href="#fixtures" title="Permalink to this headline">¶</a></h2>
<p><strong>Tutorial</strong>: <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">pytest fixtures: explicit, modular, scalable</span></a>.</p>
<p>Fixtures are requested by test functions or other fixtures by declaring them as argument names.</p>
<p>Example of a test requiring a fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Example of a fixture requiring another fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">db_session</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">):</span>
    <span class="n">fn</span> <span class="o">=</span> <span class="n">tmpdir</span> <span class="o">/</span> <span class="s2">&quot;db.file&quot;</span>
    <span class="k">return</span> <span class="n">connect</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
</pre></div>
</div>
<p>For more details, consult the full <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">fixtures docs</span></a>.</p>
<div class="section" id="pytest-fixture">
<h3><a class="toc-backref" href="#id32">&#64;pytest.fixture</a><a class="headerlink" href="#pytest-fixture" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pytest.fixture">
<code class="descclassname">&#64;</code><code class="descname">fixture</code><span class="sig-paren">(</span><em>scope='function'</em>, <em>params=None</em>, <em>autouse=False</em>, <em>ids=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#fixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.fixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to mark a fixture factory function.</p>
<p>This decorator can be used, with or without parameters, to define a
fixture function.</p>
<p>The name of the fixture function can later be referenced to cause its
invocation ahead of running tests: test
modules or classes can use the <code class="docutils literal notranslate"><span class="pre">pytest.mark.usefixtures(fixturename)</span></code>
marker.</p>
<p>Test functions can directly use fixture names as input
arguments in which case the fixture instance returned from the fixture
function will be injected.</p>
<p>Fixtures can provide their values to test functions using <code class="docutils literal notranslate"><span class="pre">return</span></code> or <code class="docutils literal notranslate"><span class="pre">yield</span></code>
statements. When using <code class="docutils literal notranslate"><span class="pre">yield</span></code> the code block after the <code class="docutils literal notranslate"><span class="pre">yield</span></code> statement is executed
as teardown code regardless of the test outcome, and must yield exactly once.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>scope</strong> – <p>the scope for which this fixture is shared, one of
<code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code> (default), <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;package&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;session&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;package&quot;</span></code> is considered <strong>experimental</strong> at this time.</p>
</li>
<li><strong>params</strong> – an optional list of parameters which will cause multiple
invocations of the fixture function and all of the tests
using it.</li>
<li><strong>autouse</strong> – if True, the fixture func is activated for all tests that
can see it.  If False (the default) then an explicit
reference is needed to activate the fixture.</li>
<li><strong>ids</strong> – list of string ids each corresponding to the params
so that they are part of the test id. If no ids are provided
they will be generated automatically from the params.</li>
<li><strong>name</strong> – the name of the fixture. This defaults to the name of the
decorated function. If a fixture is used in the same module in
which it is defined, the function name of the fixture will be
shadowed by the function arg that requests the fixture; one way
to resolve this is to name the decorated function
<code class="docutils literal notranslate"><span class="pre">fixture_&lt;fixturename&gt;</span></code> and then use
<code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture(name='&lt;fixturename&gt;')</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="config-cache">
<span id="cache-api"></span><h3><a class="toc-backref" href="#id33">config.cache</a><a class="headerlink" href="#config-cache" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="cache.html#cache"><span class="std std-ref">Cache: working with cross-testrun state</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">config.cache</span></code> object allows other plugins and fixtures
to store and retrieve values across test runs. To access it from fixtures
request <code class="docutils literal notranslate"><span class="pre">pytestconfig</span></code> into your fixture and get it with <code class="docutils literal notranslate"><span class="pre">pytestconfig.cache</span></code>.</p>
<p>Under the hood, the cache plugin uses the simple
<code class="docutils literal notranslate"><span class="pre">dumps</span></code>/<code class="docutils literal notranslate"><span class="pre">loads</span></code> API of the <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> stdlib module.</p>
<dl class="method">
<dt id="_pytest.cacheprovider.Cache.get">
<code class="descclassname">Cache.</code><code class="descname">get</code><span class="sig-paren">(</span><em>key</em>, <em>default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return cached value for the given key.  If no value
was yet cached or the value cannot be read, the specified
default is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> – must be a <code class="docutils literal notranslate"><span class="pre">/</span></code> separated value. Usually the first
name is the name of your plugin or your application.</li>
<li><strong>default</strong> – must be provided in case of a cache-miss or
invalid cache values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.cacheprovider.Cache.set">
<code class="descclassname">Cache.</code><code class="descname">set</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.set" title="Permalink to this definition">¶</a></dt>
<dd><p>save value for the given key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> – must be a <code class="docutils literal notranslate"><span class="pre">/</span></code> separated value. Usually the first
name is the name of your plugin or your application.</li>
<li><strong>value</strong> – must be of any combination of basic
python types, including nested types
like e. g. lists of dictionaries.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.cacheprovider.Cache.makedir">
<code class="descclassname">Cache.</code><code class="descname">makedir</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.makedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.makedir" title="Permalink to this definition">¶</a></dt>
<dd><p>return a directory path object with the given name.  If the
directory does not yet exist, it will be created.  You can use it
to manage files likes e. g. store/retrieve database
dumps across test sessions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – must be a string not containing a <code class="docutils literal notranslate"><span class="pre">/</span></code> separator.
Make sure the name contains your plugin or application
identifiers to prevent clashes with other cache users.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="capsys">
<h3><a class="toc-backref" href="#id34">capsys</a><a class="headerlink" href="#capsys" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capsys">
<code class="descname">capsys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capsys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capsys" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable capturing of writes to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> and make
captured output available via <code class="docutils literal notranslate"><span class="pre">capsys.readouterr()</span></code> method calls
which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> namedtuple.  <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">text</span></code>
objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="_pytest.capture.CaptureFixture">
<em class="property">class </em><code class="descname">CaptureFixture</code><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Object returned by <a class="reference internal" href="#_pytest.capture.capsys" title="_pytest.capture.capsys"><code class="xref py py-func docutils literal notranslate"><span class="pre">capsys()</span></code></a>, <a class="reference internal" href="#_pytest.capture.capsysbinary" title="_pytest.capture.capsysbinary"><code class="xref py py-func docutils literal notranslate"><span class="pre">capsysbinary()</span></code></a>, <a class="reference internal" href="#_pytest.capture.capfd" title="_pytest.capture.capfd"><code class="xref py py-func docutils literal notranslate"><span class="pre">capfd()</span></code></a> and <a class="reference internal" href="#_pytest.capture.capfdbinary" title="_pytest.capture.capfdbinary"><code class="xref py py-func docutils literal notranslate"><span class="pre">capfdbinary()</span></code></a>
fixtures.</p>
<dl class="method">
<dt id="_pytest.capture.CaptureFixture.readouterr">
<code class="descname">readouterr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture.readouterr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture.readouterr" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and return the captured output so far, resetting the internal buffer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">captured content as a namedtuple with  <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> string attributes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.capture.CaptureFixture.disabled">
<em class="property">with </em><code class="descname">disabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture.disabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture.disabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily disables capture while inside the ‘with’ block.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capsysbinary">
<h3><a class="toc-backref" href="#id35">capsysbinary</a><a class="headerlink" href="#capsysbinary" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capsysbinary">
<code class="descname">capsysbinary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capsysbinary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capsysbinary" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable capturing of writes to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> and make
captured output available via <code class="docutils literal notranslate"><span class="pre">capsys.readouterr()</span></code> method calls
which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> tuple.  <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">bytes</span></code>
objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsysbinary</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsysbinary</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="capfd">
<h3><a class="toc-backref" href="#id36">capfd</a><a class="headerlink" href="#capfd" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capfd">
<code class="descname">capfd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capfd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable capturing of writes to file descriptors <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code> and make
captured output available via <code class="docutils literal notranslate"><span class="pre">capfd.readouterr()</span></code> method calls
which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> tuple.  <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">text</span></code>
objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_system_echo</span><span class="p">(</span><span class="n">capfd</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;echo &quot;hello&quot;&#39;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="capfdbinary">
<h3><a class="toc-backref" href="#id37">capfdbinary</a><a class="headerlink" href="#capfdbinary" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capfdbinary">
<code class="descname">capfdbinary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capfdbinary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capfdbinary" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable capturing of write to file descriptors 1 and 2 and make
captured output available via <code class="docutils literal notranslate"><span class="pre">capfdbinary.readouterr</span></code> method calls
which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> tuple.  <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be
<code class="docutils literal notranslate"><span class="pre">bytes</span></code> objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_system_echo</span><span class="p">(</span><span class="n">capfdbinary</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;echo &quot;hello&quot;&#39;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capfdbinary</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="doctest-namespace">
<h3><a class="toc-backref" href="#id38">doctest_namespace</a><a class="headerlink" href="#doctest-namespace" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="doctest.html"><span class="doc">Doctest integration for modules and test files</span></a>.</p>
<dl class="function">
<dt id="_pytest.doctest.doctest_namespace">
<code class="descname">doctest_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/doctest.html#doctest_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.doctest.doctest_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixture that returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that will be injected into the namespace of doctests.</p>
<p>Usually this fixture is used in conjunction with another <code class="docutils literal notranslate"><span class="pre">autouse</span></code> fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_np</span><span class="p">(</span><span class="n">doctest_namespace</span><span class="p">):</span>
    <span class="n">doctest_namespace</span><span class="p">[</span><span class="s2">&quot;np&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span>
</pre></div>
</div>
<p>For more details: <a class="reference internal" href="doctest.html#doctest-namespace"><span class="std std-ref">The ‘doctest_namespace’ fixture</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="request">
<h3><a class="toc-backref" href="#id39">request</a><a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/simple.html#request-example"><span class="std std-ref">Pass different values to a test function, depending on command line options</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">request</span></code> fixture is a special fixture providing information of the requesting test function.</p>
<dl class="class">
<dt id="_pytest.fixtures.FixtureRequest">
<em class="property">class </em><code class="descname">FixtureRequest</code><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>A request for a fixture from a test or fixture function.</p>
<p>A request object gives access to the requesting test context
and has an optional <code class="docutils literal notranslate"><span class="pre">param</span></code> attribute in case
the fixture is parametrized indirectly.</p>
<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.fixturename">
<code class="descname">fixturename</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fixturename" title="Permalink to this definition">¶</a></dt>
<dd><p>fixture for which this request is being performed</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.scope">
<code class="descname">scope</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Scope string, one of “function”, “class”, “module”, “session”</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.fixturenames">
<code class="descname">fixturenames</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fixturenames" title="Permalink to this definition">¶</a></dt>
<dd><p>names of all active fixtures in this request</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.node">
<code class="descname">node</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.node" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying collection node (depends on current request scope)</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.config">
<code class="descname">config</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.config" title="Permalink to this definition">¶</a></dt>
<dd><p>the pytest config object associated with this request.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.function">
<code class="descname">function</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.function" title="Permalink to this definition">¶</a></dt>
<dd><p>test function object if the request has a per-function scope.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.cls">
<code class="descname">cls</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.cls" title="Permalink to this definition">¶</a></dt>
<dd><p>class (can be None) where the test function was collected.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.instance">
<code class="descname">instance</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>instance (can be None) on which test function was collected.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.module">
<code class="descname">module</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.module" title="Permalink to this definition">¶</a></dt>
<dd><p>python module object where the test function was collected.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.fspath">
<code class="descname">fspath</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fspath" title="Permalink to this definition">¶</a></dt>
<dd><p>the file system path of the test module which collected this test.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.keywords">
<code class="descname">keywords</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>keywords/markers dictionary for the underlying node.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.session">
<code class="descname">session</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.session" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest session object.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.addfinalizer">
<code class="descname">addfinalizer</code><span class="sig-paren">(</span><em>finalizer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.addfinalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.addfinalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>add finalizer/teardown function to be called after the
last test within the requesting test context finished
execution.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.applymarker">
<code class="descname">applymarker</code><span class="sig-paren">(</span><em>marker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.applymarker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.applymarker" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a marker to a single test function invocation.
This method is useful if you don’t want to have a keyword/marker
on all function invocations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>marker</strong> – a <a class="reference internal" href="#_pytest.mark.MarkDecorator" title="_pytest.mark.MarkDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.mark.MarkDecorator</span></code></a> object
created by a call to <code class="docutils literal notranslate"><span class="pre">pytest.mark.NAME(...)</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.raiseerror">
<code class="descname">raiseerror</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.raiseerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.raiseerror" title="Permalink to this definition">¶</a></dt>
<dd><p>raise a FixtureLookupError with the given message.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.cached_setup">
<code class="descname">cached_setup</code><span class="sig-paren">(</span><em>setup</em>, <em>teardown=None</em>, <em>scope='module'</em>, <em>extrakey=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.cached_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.cached_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated) Return a testing resource managed by <code class="docutils literal notranslate"><span class="pre">setup</span></code> &amp;
<code class="docutils literal notranslate"><span class="pre">teardown</span></code> calls.  <code class="docutils literal notranslate"><span class="pre">scope</span></code> and <code class="docutils literal notranslate"><span class="pre">extrakey</span></code> determine when the
<code class="docutils literal notranslate"><span class="pre">teardown</span></code> function will be called so that subsequent calls to
<code class="docutils literal notranslate"><span class="pre">setup</span></code> would recreate the resource.  With pytest-2.3 you often
do not need <code class="docutils literal notranslate"><span class="pre">cached_setup()</span></code> as you can directly declare a scope
on a fixture function and register a finalizer through
<code class="docutils literal notranslate"><span class="pre">request.addfinalizer()</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>teardown</strong> – function receiving a previously setup resource.</li>
<li><strong>setup</strong> – a no-argument function creating a resource.</li>
<li><strong>scope</strong> – a string value out of <code class="docutils literal notranslate"><span class="pre">function</span></code>, <code class="docutils literal notranslate"><span class="pre">class</span></code>, <code class="docutils literal notranslate"><span class="pre">module</span></code>
or <code class="docutils literal notranslate"><span class="pre">session</span></code> indicating the caching lifecycle of the resource.</li>
<li><strong>extrakey</strong> – added to internal caching key of (funcargname, scope).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.getfixturevalue">
<code class="descname">getfixturevalue</code><span class="sig-paren">(</span><em>argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.getfixturevalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.getfixturevalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically run a named fixture function.</p>
<p>Declaring fixtures via function argument is recommended where possible.
But if you can only decide whether to use another fixture at test
setup time, you may use this function to retrieve it inside a fixture
or test function body.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.getfuncargvalue">
<code class="descname">getfuncargvalue</code><span class="sig-paren">(</span><em>argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.getfuncargvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.getfuncargvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated, use getfixturevalue.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytestconfig">
<h3><a class="toc-backref" href="#id40">pytestconfig</a><a class="headerlink" href="#pytestconfig" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.fixtures.pytestconfig">
<code class="descname">pytestconfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#pytestconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.pytestconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Session-scoped fixture that returns the <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> object.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_foo</span><span class="p">(</span><span class="n">pytestconfig</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pytestconfig</span><span class="o">.</span><span class="n">getoption</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="record-property">
<h3><a class="toc-backref" href="#id41">record_property</a><a class="headerlink" href="#record-property" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="usage.html#record-property-example"><span class="std std-ref">record_property</span></a>.</p>
<dl class="function">
<dt id="_pytest.junitxml.record_property">
<code class="descname">record_property</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/junitxml.html#record_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.junitxml.record_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an extra properties the calling test.
User properties become part of the test report and are available to the
configured reporters, like JUnit XML.
The fixture is callable with <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">value)</span></code>, with value being automatically
xml-encoded.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_function</span><span class="p">(</span><span class="n">record_property</span><span class="p">):</span>
    <span class="n">record_property</span><span class="p">(</span><span class="s2">&quot;example_key&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="caplog">
<h3><a class="toc-backref" href="#id42">caplog</a><a class="headerlink" href="#caplog" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="logging.html"><span class="doc">Logging</span></a>.</p>
<dl class="function">
<dt id="_pytest.logging.caplog">
<code class="descname">caplog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#caplog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.caplog" title="Permalink to this definition">¶</a></dt>
<dd><p>Access and control log capturing.</p>
<p>Captured logs are available through the following properties/methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">text</span>            <span class="o">-&gt;</span> <span class="n">string</span> <span class="n">containing</span> <span class="n">formatted</span> <span class="n">log</span> <span class="n">output</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">records</span>         <span class="o">-&gt;</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span> <span class="n">instances</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">record_tuples</span>   <span class="o">-&gt;</span> <span class="nb">list</span> <span class="n">of</span> <span class="p">(</span><span class="n">logger_name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="n">tuples</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>         <span class="o">-&gt;</span> <span class="n">clear</span> <span class="n">captured</span> <span class="n">records</span> <span class="ow">and</span> <span class="n">formatted</span> <span class="n">log</span> <span class="n">output</span> <span class="n">string</span>
</pre></div>
</div>
<p>This returns a <a class="reference internal" href="#_pytest.logging.LogCaptureFixture" title="_pytest.logging.LogCaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.logging.LogCaptureFixture</span></code></a> instance.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.logging.LogCaptureFixture">
<em class="property">class </em><code class="descname">LogCaptureFixture</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides access and control of log capturing.</p>
<dl class="attribute">
<dt id="_pytest.logging.LogCaptureFixture.handler">
<code class="descname">handler</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.handler" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">LogCaptureHandler</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.get_records">
<code class="descname">get_records</code><span class="sig-paren">(</span><em>when</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the logging records for one of the possible test phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Which test phase to obtain the records from. Valid values are: “setup”, “call” and “teardown”.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List[<a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.LogRecord" title="(in Python v3.8)">logging.LogRecord</a>]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the list of captured records at the given stage</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.logging.LogCaptureFixture.text">
<code class="descname">text</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log text.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.logging.LogCaptureFixture.records">
<code class="descname">records</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of log records.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.logging.LogCaptureFixture.record_tuples">
<code class="descname">record_tuples</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.record_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of a stripped down version of log records intended
for use in assertion comparison.</p>
<p>The format of the tuple is:</p>
<blockquote>
<div>(logger_name, log_level, message)</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.logging.LogCaptureFixture.messages">
<code class="descname">messages</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of format-interpolated log messages.</p>
<p>Unlike ‘records’, which contains the format string and parameters for interpolation, log messages in this list
are all interpolated.
Unlike ‘text’, which contains the output from the handler, log messages in this list are unadorned with
levels, timestamps, etc, making exact comparisons more reliable.</p>
<p>Note that traceback or stack info (from <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.exception" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">logging.exception()</span></code></a> or the <cite>exc_info</cite> or <cite>stack_info</cite> arguments
to the logging functions) is not included, as this is added by the formatter in the handler.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the list of log records and the captured log text.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.set_level">
<code class="descname">set_level</code><span class="sig-paren">(</span><em>level</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.set_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.set_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the level for capturing of logs. The level will be restored to its previous value at the end of
the test.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the logger to level.</li>
<li><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the logger to update the level. If not given, the root logger level is updated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.4: </span>The levels of the loggers changed by this function will be restored to their initial values at the
end of the test.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.at_level">
<em class="property">with </em><code class="descname">at_level</code><span class="sig-paren">(</span><em>level</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.at_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.at_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager that sets the level for capturing of logs. After the end of the ‘with’ statement the
level is restored to its original value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the logger to level.</li>
<li><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the logger to update the level. If not given, the root logger level is updated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="monkeypatch">
<h3><a class="toc-backref" href="#id43">monkeypatch</a><a class="headerlink" href="#monkeypatch" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="monkeypatch.html"><span class="doc">Monkeypatching/mocking modules and environments</span></a>.</p>
<dl class="function">
<dt id="_pytest.monkeypatch.monkeypatch">
<code class="descname">monkeypatch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#monkeypatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.monkeypatch" title="Permalink to this definition">¶</a></dt>
<dd><p>The returned <code class="docutils literal notranslate"><span class="pre">monkeypatch</span></code> fixture provides these
helper methods to modify objects, dictionaries or os.environ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">setitem</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delitem</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">setenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">prepend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">syspath_prepend</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>All modifications will be undone after the requesting
test function or fixture has finished. The <code class="docutils literal notranslate"><span class="pre">raising</span></code>
parameter determines if a KeyError or AttributeError
will be raised if the set/deletion operation has no target.</p>
<p>This returns a <a class="reference internal" href="#_pytest.monkeypatch.MonkeyPatch" title="_pytest.monkeypatch.MonkeyPatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonkeyPatch</span></code></a> instance.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.monkeypatch.MonkeyPatch">
<em class="property">class </em><code class="descname">MonkeyPatch</code><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Object returned by the <code class="docutils literal notranslate"><span class="pre">monkeypatch</span></code> fixture keeping a record of setattr/item/env/syspath changes.</p>
<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.context">
<em class="property">with </em><code class="descname">context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager that returns a new <a class="reference internal" href="#_pytest.monkeypatch.MonkeyPatch" title="_pytest.monkeypatch.MonkeyPatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonkeyPatch</span></code></a> object which
undoes any patching done inside the <code class="docutils literal notranslate"><span class="pre">with</span></code> block upon exit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>
<span class="k">def</span> <span class="nf">test_partial</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">monkeypatch</span><span class="o">.</span><span class="n">context</span><span class="p">()</span> <span class="k">as</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">m</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">functools</span><span class="p">,</span> <span class="s2">&quot;partial&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Useful in situations where it is desired to undo some patches before the test ends,
such as mocking <code class="docutils literal notranslate"><span class="pre">stdlib</span></code> functions that might break pytest itself if mocked (for examples
of this see <a class="reference external" href="https://github.com/pytest-dev/pytest/issues/3290">#3290</a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setattr">
<code class="descname">setattr</code><span class="sig-paren">(</span><em>target</em>, <em>name</em>, <em>value=&lt;notset&gt;</em>, <em>raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set attribute value on target, memorizing the old value.
By default raise AttributeError if the attribute did not exist.</p>
<p>For convenience you can specify a string as <code class="docutils literal notranslate"><span class="pre">target</span></code> which
will be interpreted as a dotted import path, with the last part
being the attribute name.  Example:
<code class="docutils literal notranslate"><span class="pre">monkeypatch.setattr(&quot;os.getcwd&quot;,</span> <span class="pre">lambda:</span> <span class="pre">&quot;/&quot;)</span></code>
would set the <code class="docutils literal notranslate"><span class="pre">getcwd</span></code> function of the <code class="docutils literal notranslate"><span class="pre">os</span></code> module.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">raising</span></code> value determines if the setattr should fail
if the attribute is not already present (defaults to True
which means it will raise).</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delattr">
<code class="descname">delattr</code><span class="sig-paren">(</span><em>target</em>, <em>name=&lt;notset&gt;</em>, <em>raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete attribute <code class="docutils literal notranslate"><span class="pre">name</span></code> from <code class="docutils literal notranslate"><span class="pre">target</span></code>, by default raise
AttributeError it the attribute did not previously exist.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">name</span></code> is specified and <code class="docutils literal notranslate"><span class="pre">target</span></code> is a string
it will be interpreted as a dotted import path with the
last part being the attribute name.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
attribute is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setitem">
<code class="descname">setitem</code><span class="sig-paren">(</span><em>dic</em>, <em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set dictionary entry <code class="docutils literal notranslate"><span class="pre">name</span></code> to value.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delitem">
<code class="descname">delitem</code><span class="sig-paren">(</span><em>dic</em>, <em>name</em>, <em>raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <code class="docutils literal notranslate"><span class="pre">name</span></code> from dict. Raise KeyError if it doesn’t exist.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
key is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setenv">
<code class="descname">setenv</code><span class="sig-paren">(</span><em>name</em>, <em>value</em>, <em>prepend=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Set environment variable <code class="docutils literal notranslate"><span class="pre">name</span></code> to <code class="docutils literal notranslate"><span class="pre">value</span></code>.  If <code class="docutils literal notranslate"><span class="pre">prepend</span></code>
is a character, read the current environment variable value
and prepend the <code class="docutils literal notranslate"><span class="pre">value</span></code> adjoined with the <code class="docutils literal notranslate"><span class="pre">prepend</span></code> character.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delenv">
<code class="descname">delenv</code><span class="sig-paren">(</span><em>name</em>, <em>raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <code class="docutils literal notranslate"><span class="pre">name</span></code> from the environment. Raise KeyError if it does
not exist.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
environment variable is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.syspath_prepend">
<code class="descname">syspath_prepend</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.syspath_prepend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.syspath_prepend" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend <code class="docutils literal notranslate"><span class="pre">path</span></code> to <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> list of import locations.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.chdir">
<code class="descname">chdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current working directory to the specified path.
Path can be a string or a py.path.local object.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.undo">
<code class="descname">undo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.undo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo previous changes.  This call consumes the
undo stack. Calling it a second time has no effect unless
you do more monkeypatching after the undo call.</p>
<p>There is generally no need to call <cite>undo()</cite>, since it is
called automatically during tear-down.</p>
<p>Note that the same <cite>monkeypatch</cite> fixture is used across a
single test function invocation. If <cite>monkeypatch</cite> is used both by
the test function itself and one of the test fixtures,
calling <cite>undo()</cite> will undo all of the changes made in
both functions.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="testdir">
<h3><a class="toc-backref" href="#id44">testdir</a><a class="headerlink" href="#testdir" title="Permalink to this headline">¶</a></h3>
<p>This fixture provides a <a class="reference internal" href="#_pytest.pytester.Testdir" title="_pytest.pytester.Testdir"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir</span></code></a> instance useful for black-box testing of test files, making it ideal to
test plugins.</p>
<p>To use it, include in your top-most <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s1">&#39;pytester&#39;</span>
</pre></div>
</div>
<dl class="class">
<dt id="_pytest.pytester.Testdir">
<em class="property">class </em><code class="descname">Testdir</code><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporary test directory with tools to test/run pytest itself.</p>
<p>This is based on the <code class="docutils literal notranslate"><span class="pre">tmpdir</span></code> fixture but provides a number of methods
which aid with testing pytest itself.  Unless <a class="reference internal" href="#_pytest.pytester.Testdir.chdir" title="_pytest.pytester.Testdir.chdir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chdir()</span></code></a> is used all
methods will use <code class="xref py py-attr docutils literal notranslate"><span class="pre">tmpdir</span></code> as their current working directory.</p>
<p>Attributes:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Tmpdir:</th><td class="field-body">The <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the temporary directory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Plugins:</th><td class="field-body">A list of plugins to use with <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a> and
<a class="reference internal" href="#_pytest.pytester.Testdir.runpytest" title="_pytest.pytester.Testdir.runpytest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">runpytest()</span></code></a>.  Initially this is an empty list but plugins can
be added to the list.  The type of items to add to the list depends on
the method using them so refer to them for details.</td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="_pytest.pytester.Testdir.TimeoutExpired">
<em class="property">exception </em><code class="descname">TimeoutExpired</code><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.TimeoutExpired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.TimeoutExpired" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up global state artifacts.</p>
<p>Some methods modify the global interpreter state and this tries to
clean this up.  It does not remove the temporary directory however so
it can be looked at after the test run has finished.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.make_hook_recorder">
<code class="descname">make_hook_recorder</code><span class="sig-paren">(</span><em>pluginmanager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.make_hook_recorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.make_hook_recorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> for a PluginManager.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.chdir">
<code class="descname">chdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Cd into the temporary directory.</p>
<p>This is done automatically upon instantiation.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makefile">
<code class="descname">makefile</code><span class="sig-paren">(</span><em>ext</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new file(s) in the testdir.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The extension the file(s) should use, including the dot, e.g. <cite>.py</cite>.</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – All args will be treated as strings and joined using newlines.
The result will be written as contents to the file.  The name of the
file will be based on the test function requesting this fixture.</li>
<li><strong>kwargs</strong> – Each keyword is the name of a file, while the value of it will
be written as contents of the file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">testdir</span><span class="o">.</span><span class="n">makefile</span><span class="p">(</span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;line1&quot;</span><span class="p">,</span> <span class="s2">&quot;line2&quot;</span><span class="p">)</span>

<span class="n">testdir</span><span class="o">.</span><span class="n">makefile</span><span class="p">(</span><span class="s2">&quot;.ini&quot;</span><span class="p">,</span> <span class="n">pytest</span><span class="o">=</span><span class="s2">&quot;[pytest]</span><span class="se">\n</span><span class="s2">addopts=-rs</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makeconftest">
<code class="descname">makeconftest</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makeconftest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makeconftest" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a contest.py file with ‘source’ as contents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makeini">
<code class="descname">makeini</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makeini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makeini" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a tox.ini file with ‘source’ as contents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getinicfg">
<code class="descname">getinicfg</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getinicfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getinicfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pytest section from the tox.ini config file.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makepyfile">
<code class="descname">makepyfile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makepyfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makepyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for .makefile() with a .py extension.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.maketxtfile">
<code class="descname">maketxtfile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.maketxtfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.maketxtfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for .makefile() with a .txt extension.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.syspathinsert">
<code class="descname">syspathinsert</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.syspathinsert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.syspathinsert" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend a directory to sys.path, defaults to <code class="xref py py-attr docutils literal notranslate"><span class="pre">tmpdir</span></code>.</p>
<p>This is undone automatically when this object dies at the end of each
test.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.mkdir">
<code class="descname">mkdir</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new (sub)directory.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.mkpydir">
<code class="descname">mkpydir</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.mkpydir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.mkpydir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new python package.</p>
<p>This creates a (sub)directory with an empty <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file so it
gets recognised as a python package.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.Testdir.Session">
<em class="property">class </em><code class="descname">Session</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#_pytest.pytester.Testdir.Session" title="Permalink to this definition">¶</a></dt>
<dd><dl class="exception">
<dt id="_pytest.pytester.Testdir.Session.Failed">
<em class="property">exception </em><code class="descname">Failed</code><a class="headerlink" href="#_pytest.pytester.Testdir.Session.Failed" title="Permalink to this definition">¶</a></dt>
<dd><p>signals a stop as failed test run.</p>
</dd></dl>

<dl class="exception">
<dt id="_pytest.pytester.Testdir.Session.Interrupted">
<em class="property">exception </em><code class="descname">Interrupted</code><a class="headerlink" href="#_pytest.pytester.Testdir.Session.Interrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>signals an interrupted test run.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.Session.collect">
<em class="property">for ... in </em><code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_pytest.pytester.Testdir.Session.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getnode">
<code class="descname">getnode</code><span class="sig-paren">(</span><em>config</em>, <em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getnode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getnode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node of a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> – <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance, see
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a> and <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a> to create the
configuration</li>
<li><strong>arg</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getpathnode">
<code class="descname">getpathnode</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getpathnode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getpathnode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node of a file.</p>
<p>This is like <a class="reference internal" href="#_pytest.pytester.Testdir.getnode" title="_pytest.pytester.Testdir.getnode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getnode()</span></code></a> but uses <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a> to
create the (configured) pytest Config instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.genitems">
<code class="descname">genitems</code><span class="sig-paren">(</span><em>colitems</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.genitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.genitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all test items from a collection node.</p>
<p>This recurses into the collection node and returns a list of all the
test items contained within.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runitem">
<code class="descname">runitem</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the “test_func” Item.</p>
<p>The calling test instance (class containing the test method) must
provide a <code class="docutils literal notranslate"><span class="pre">.getrunner()</span></code> method which should return a runner which
can run the test protocol for a single item, e.g.
<code class="xref py py-func docutils literal notranslate"><span class="pre">_pytest.runner.runtestprotocol()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_runsource">
<code class="descname">inline_runsource</code><span class="sig-paren">(</span><em>source</em>, <em>*cmdlineargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_runsource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_runsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a test module in process using <code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code>.</p>
<p>This run writes “source” into a temporary file and runs
<code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> on it, returning a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance
for the result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>source</strong> – the source code of the test module</li>
<li><strong>cmdlineargs</strong> – any extra command line arguments to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance of the result</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_genitems">
<code class="descname">inline_genitems</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_genitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_genitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Run <code class="docutils literal notranslate"><span class="pre">pytest.main(['--collectonly'])</span></code> in-process.</p>
<p>Runs the <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code> function to run all of pytest inside
the test process itself like <a class="reference internal" href="#_pytest.pytester.Testdir.inline_run" title="_pytest.pytester.Testdir.inline_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inline_run()</span></code></a>, but returns a
tuple of the collected items and a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_run">
<code class="descname">inline_run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run <code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> in-process, returning a HookRecorder.</p>
<p>Runs the <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code> function to run all of pytest inside
the test process itself.  This means it can return a
<code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance which gives more detailed results
from that run than can be done by matching stdout/stderr from
<a class="reference internal" href="#_pytest.pytester.Testdir.runpytest" title="_pytest.pytester.Testdir.runpytest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">runpytest()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> – command line arguments to pass to <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code></li>
<li><strong>plugin</strong> – (keyword-only) extra plugin instances the
<code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> instance should use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest_inprocess">
<code class="descname">runpytest_inprocess</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest_inprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest_inprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Return result of running pytest in-process, providing a similar
interface to what self.runpytest() provides.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest">
<code class="descname">runpytest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest inline or in a subprocess, depending on the command line
option “–runpytest” and return a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.parseconfig">
<code class="descname">parseconfig</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.parseconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.parseconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new pytest Config instance from given commandline args.</p>
<p>This invokes the pytest bootstrapping code in _pytest.config to create
a new <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.core.PluginManager</span></code> and call the
pytest_cmdline_parse hook to create a new
<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance.</p>
<p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">plugins</span></code> has been populated they should be plugin modules
to be registered with the PluginManager.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.parseconfigure">
<code class="descname">parseconfigure</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.parseconfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.parseconfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new pytest configured Config instance.</p>
<p>This returns a new <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance like
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a>, but also calls the pytest_configure hook.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getitem">
<code class="descname">getitem</code><span class="sig-paren">(</span><em>source</em>, <em>funcname='test_func'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the test item for a test function.</p>
<p>This writes the source to a python file and runs pytest’s collection on
the resulting module, returning the test item for the requested
function name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> – the module source</li>
<li><strong>funcname</strong> – the name of the test function for which to return a
test item</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getitems">
<code class="descname">getitems</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all test items collected from the module.</p>
<p>This writes the source to a python file and runs pytest’s collection on
the resulting module, returning all test items contained within.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getmodulecol">
<code class="descname">getmodulecol</code><span class="sig-paren">(</span><em>source</em>, <em>configargs=()</em>, <em>withinit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getmodulecol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getmodulecol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the module collection node for <code class="docutils literal notranslate"><span class="pre">source</span></code>.</p>
<p>This writes <code class="docutils literal notranslate"><span class="pre">source</span></code> to a file using <a class="reference internal" href="#_pytest.pytester.Testdir.makepyfile" title="_pytest.pytester.Testdir.makepyfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">makepyfile()</span></code></a> and then
runs the pytest collection on it, returning the collection node for the
test module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> – the source code of the module to collect</li>
<li><strong>configargs</strong> – any extra arguments to pass to
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a></li>
<li><strong>withinit</strong> – whether to also write an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file to the
same directory to ensure it is a package</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.collect_by_name">
<code class="descname">collect_by_name</code><span class="sig-paren">(</span><em>modcol</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.collect_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.collect_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node for name from the module collection.</p>
<p>This will search a module collection node for a collection node
matching the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>modcol</strong> – a module collection node; see <a class="reference internal" href="#_pytest.pytester.Testdir.getmodulecol" title="_pytest.pytester.Testdir.getmodulecol"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getmodulecol()</span></code></a></li>
<li><strong>name</strong> – the name of the node to return</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.popen">
<code class="descname">popen</code><span class="sig-paren">(</span><em>cmdargs</em>, <em>stdout</em>, <em>stderr</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.popen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.popen" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke subprocess.Popen.</p>
<p>This calls subprocess.Popen making sure the current working directory
is in the PYTHONPATH.</p>
<p>You probably want to use <a class="reference internal" href="#_pytest.pytester.Testdir.run" title="_pytest.pytester.Testdir.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*cmdargs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command with arguments.</p>
<p>Run a process using subprocess.Popen saving the stdout and stderr.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> – the sequence of arguments to pass to <cite>subprocess.Popen()</cite></li>
<li><strong>timeout</strong> – the period in seconds after which to timeout and raise
<a class="reference internal" href="#_pytest.pytester.Testdir.TimeoutExpired" title="_pytest.pytester.Testdir.TimeoutExpired"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir.TimeoutExpired</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpython">
<code class="descname">runpython</code><span class="sig-paren">(</span><em>script</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpython" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a python script using sys.executable as interpreter.</p>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpython_c">
<code class="descname">runpython_c</code><span class="sig-paren">(</span><em>command</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpython_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpython_c" title="Permalink to this definition">¶</a></dt>
<dd><p>Run python -c “command”, return a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest_subprocess">
<code class="descname">runpytest_subprocess</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest_subprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest_subprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest as a subprocess with given arguments.</p>
<p>Any plugins added to the <code class="xref py py-attr docutils literal notranslate"><span class="pre">plugins</span></code> list will be added using the
<code class="docutils literal notranslate"><span class="pre">-p</span></code> command line option.  Additionally <code class="docutils literal notranslate"><span class="pre">--basetemp</span></code> is used to put
any temporary files and directories in a numbered directory prefixed
with “runpytest-” to not conflict with the normal numbered pytest
location for temporary files and directories.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> – the sequence of arguments to pass to the pytest subprocess</li>
<li><strong>timeout</strong> – the period in seconds after which to timeout and raise
<a class="reference internal" href="#_pytest.pytester.Testdir.TimeoutExpired" title="_pytest.pytester.Testdir.TimeoutExpired"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir.TimeoutExpired</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.spawn_pytest">
<code class="descname">spawn_pytest</code><span class="sig-paren">(</span><em>string</em>, <em>expect_timeout=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.spawn_pytest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.spawn_pytest" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest using pexpect.</p>
<p>This makes sure to use the right pytest and sets up the temporary
directory locations.</p>
<p>The pexpect child is returned.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.spawn">
<code class="descname">spawn</code><span class="sig-paren">(</span><em>cmd</em>, <em>expect_timeout=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command using pexpect.</p>
<p>The pexpect child is returned.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.RunResult">
<em class="property">class </em><code class="descname">RunResult</code><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult" title="Permalink to this definition">¶</a></dt>
<dd><p>The result of running a command.</p>
<p>Attributes:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Ret:</th><td class="field-body">the return value</td>
</tr>
<tr class="field-even field"><th class="field-name">Outlines:</th><td class="field-body">list of lines captured from stdout</td>
</tr>
<tr class="field-odd field"><th class="field-name">Errlines:</th><td class="field-body">list of lines captures from stderr</td>
</tr>
<tr class="field-even field"><th class="field-name">Stdout:</th><td class="field-body"><a class="reference internal" href="#_pytest.pytester.LineMatcher" title="_pytest.pytester.LineMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineMatcher</span></code></a> of stdout, use <code class="docutils literal notranslate"><span class="pre">stdout.str()</span></code> to
reconstruct stdout or the commonly used <code class="docutils literal notranslate"><span class="pre">stdout.fnmatch_lines()</span></code>
method</td>
</tr>
<tr class="field-odd field"><th class="field-name">Stderr:</th><td class="field-body"><a class="reference internal" href="#_pytest.pytester.LineMatcher" title="_pytest.pytester.LineMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineMatcher</span></code></a> of stderr</td>
</tr>
<tr class="field-even field"><th class="field-name">Duration:</th><td class="field-body">duration in seconds</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="_pytest.pytester.RunResult.parseoutcomes">
<code class="descname">parseoutcomes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult.parseoutcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult.parseoutcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of outcomestring-&gt;num from parsing the terminal
output that the test process produced.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.RunResult.assert_outcomes">
<code class="descname">assert_outcomes</code><span class="sig-paren">(</span><em>passed=0</em>, <em>skipped=0</em>, <em>failed=0</em>, <em>error=0</em>, <em>xpassed=0</em>, <em>xfailed=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult.assert_outcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult.assert_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that the specified outcomes appear with the respective
numbers (0 means it didn’t occur) in the text output from a test run.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.LineMatcher">
<em class="property">class </em><code class="descname">LineMatcher</code><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Flexible matching of text.</p>
<p>This is a convenience class to test large texts like the output of
commands.</p>
<p>The constructor takes a list of lines without their trailing newlines, i.e.
<code class="docutils literal notranslate"><span class="pre">text.splitlines()</span></code>.</p>
<dl class="method">
<dt id="_pytest.pytester.LineMatcher.str">
<code class="descname">str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entire original text.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.fnmatch_lines_random">
<code class="descname">fnmatch_lines_random</code><span class="sig-paren">(</span><em>lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.fnmatch_lines_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Check lines exist in the output using in any order.</p>
<p>Lines are checked using <code class="docutils literal notranslate"><span class="pre">fnmatch.fnmatch</span></code>. The argument is a list of
lines which have to occur in the output, in any order.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.re_match_lines_random">
<code class="descname">re_match_lines_random</code><span class="sig-paren">(</span><em>lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.re_match_lines_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.re_match_lines_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Check lines exist in the output using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>, in any order.</p>
<p>The argument is a list of lines which have to occur in the output, in
any order.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.get_lines_after">
<code class="descname">get_lines_after</code><span class="sig-paren">(</span><em>fnline</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.get_lines_after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.get_lines_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all lines following the given line in the text.</p>
<p>The given line can contain glob wildcards.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.fnmatch_lines">
<code class="descname">fnmatch_lines</code><span class="sig-paren">(</span><em>lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.fnmatch_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Search captured text for matching lines using <code class="docutils literal notranslate"><span class="pre">fnmatch.fnmatch</span></code>.</p>
<p>The argument is a list of lines which have to match and can use glob
wildcards.  If they do not match a pytest.fail() is called.  The
matches and non-matches are also printed on stdout.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.re_match_lines">
<code class="descname">re_match_lines</code><span class="sig-paren">(</span><em>lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.re_match_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.re_match_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Search captured text for matching lines using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>.</p>
<p>The argument is a list of lines which have to match using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>.
If they do not match a pytest.fail() is called.</p>
<p>The matches and non-matches are also printed on stdout.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="recwarn">
<h3><a class="toc-backref" href="#id45">recwarn</a><a class="headerlink" href="#recwarn" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#assertwarnings"><span class="std std-ref">Asserting warnings with the warns function</span></a></p>
<dl class="function">
<dt id="_pytest.recwarn.recwarn">
<code class="descname">recwarn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#recwarn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.recwarn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#_pytest.recwarn.WarningsRecorder" title="_pytest.recwarn.WarningsRecorder"><code class="xref py py-class docutils literal notranslate"><span class="pre">WarningsRecorder</span></code></a> instance that records all warnings emitted by test functions.</p>
<p>See <a class="reference external" href="http://docs.python.org/library/warnings.html">http://docs.python.org/library/warnings.html</a> for information
on warning categories.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.recwarn.WarningsRecorder">
<em class="property">class </em><code class="descname">WarningsRecorder</code><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager to record raised warnings.</p>
<p>Adapted from <cite>warnings.catch_warnings</cite>.</p>
<dl class="attribute">
<dt id="_pytest.recwarn.WarningsRecorder.list">
<code class="descname">list</code><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of recorded warnings.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.recwarn.WarningsRecorder.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>cls=&lt;class 'Warning'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the first recorded warning, raise exception if not exists.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.recwarn.WarningsRecorder.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the list of recorded warnings.</p>
</dd></dl>

</dd></dl>

<p>Each recorded warning is an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">warnings.WarningMessage</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecordedWarning</span></code> was changed from a plain class to a namedtuple in pytest 3.1</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> and <code class="docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code> are treated
differently; see <a class="reference internal" href="warnings.html#ensuring-function-triggers"><span class="std std-ref">Ensuring code triggers a deprecation warning</span></a>.</p>
</div>
</div>
<div class="section" id="tmpdir">
<h3><a class="toc-backref" href="#id46">tmpdir</a><a class="headerlink" href="#tmpdir" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html"><span class="doc">Temporary directories and files</span></a></p>
<dl class="function">
<dt id="_pytest.tmpdir.tmpdir">
<code class="descname">tmpdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#tmpdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.tmpdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a temporary directory path object
which is unique to each test function invocation,
created as a sub directory of the base temporary
directory.  The returned object is a <a class="reference external" href="https://py.readthedocs.io/en/latest/path.html">py.path.local</a>
path object.</p>
</dd></dl>

</div>
<div class="section" id="tmpdir-factory">
<h3><a class="toc-backref" href="#id47">tmpdir_factory</a><a class="headerlink" href="#tmpdir-factory" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html#tmpdir-factory-example"><span class="std std-ref">The ‘tmpdir_factory’ fixture</span></a></p>
<p id="tmpdir-factory-api"><code class="docutils literal notranslate"><span class="pre">tmpdir_factory</span></code> instances have the following methods:</p>
<dl class="method">
<dt id="_pytest.tmpdir.TempdirFactory.mktemp">
<code class="descclassname">TempdirFactory.</code><code class="descname">mktemp</code><span class="sig-paren">(</span><em>basename</em>, <em>numbered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempdirFactory.mktemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempdirFactory.mktemp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a subdirectory of the base temporary directory and return it.
If <code class="docutils literal notranslate"><span class="pre">numbered</span></code>, ensure the directory is unique by adding a number
prefix greater than any existing one.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.tmpdir.TempdirFactory.getbasetemp">
<code class="descclassname">TempdirFactory.</code><code class="descname">getbasetemp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempdirFactory.getbasetemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempdirFactory.getbasetemp" title="Permalink to this definition">¶</a></dt>
<dd><p>backward compat wrapper for <code class="docutils literal notranslate"><span class="pre">_tmppath_factory.getbasetemp</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="hooks">
<span id="hook-reference"></span><h2><a class="toc-backref" href="#id48">Hooks</a><a class="headerlink" href="#hooks" title="Permalink to this headline">¶</a></h2>
<p><strong>Tutorial</strong>: <a class="reference internal" href="writing_plugins.html"><span class="doc">Writing plugins</span></a>.</p>
<p>Reference to all hooks which can be implemented by <a class="reference internal" href="writing_plugins.html#localplugin"><span class="std std-ref">conftest.py files</span></a> and <a class="reference internal" href="writing_plugins.html#plugins"><span class="std std-ref">plugins</span></a>.</p>
<div class="section" id="bootstrapping-hooks">
<h3><a class="toc-backref" href="#id49">Bootstrapping hooks</a><a class="headerlink" href="#bootstrapping-hooks" title="Permalink to this headline">¶</a></h3>
<p>Bootstrapping hooks called for plugins registered early enough (internal and setuptools plugins).</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_load_initial_conftests">
<code class="descname">pytest_load_initial_conftests</code><span class="sig-paren">(</span><em>early_config</em>, <em>parser</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_load_initial_conftests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_load_initial_conftests" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the loading of initial conftest files ahead
of command line option parsing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>early_config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</li>
<li><strong>parser</strong> (<em>_pytest.config.Parser</em>) – to add command line options</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_preparse">
<code class="descname">pytest_cmdline_preparse</code><span class="sig-paren">(</span><em>config</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_preparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_preparse" title="Permalink to this definition">¶</a></dt>
<dd><p>(<strong>Deprecated</strong>) modify command line arguments before option parsing.</p>
<p>This hook is considered deprecated and will be removed in a future pytest version. Consider
using <a class="reference internal" href="#_pytest.hookspec.pytest_load_initial_conftests" title="_pytest.hookspec.pytest_load_initial_conftests"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_load_initial_conftests()</span></code></a> instead.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_parse">
<code class="descname">pytest_cmdline_parse</code><span class="sig-paren">(</span><em>pluginmanager</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>return initialized config object, parsing the specified args.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pluginmanager</strong> (<a class="reference internal" href="#_pytest.config.PytestPluginManager" title="_pytest.config.PytestPluginManager"><em>_pytest.config.PytestPluginManager</em></a>) – pytest plugin manager</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_main">
<code class="descname">pytest_cmdline_main</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_main" title="Permalink to this definition">¶</a></dt>
<dd><p>called for performing the main command line action. The default
implementation will invoke the configure hooks and runtest_mainloop.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="initialization-hooks">
<h3><a class="toc-backref" href="#id50">Initialization hooks</a><a class="headerlink" href="#initialization-hooks" title="Permalink to this headline">¶</a></h3>
<p>Initialization hooks called for plugins and <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files.</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_addoption">
<code class="descname">pytest_addoption</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_addoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_addoption" title="Permalink to this definition">¶</a></dt>
<dd><p>register argparse-style options and ini-style config values,
called once at the beginning of a test run.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function should be implemented only in plugins or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>
files situated at the tests root directory due to how pytest
<a class="reference internal" href="writing_plugins.html#pluginorder"><span class="std std-ref">discovers plugins during startup</span></a>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<em>_pytest.config.Parser</em>) – To add command line options, call
<code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addoption(...)</span></code>.
To add ini-file values call <code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addini(...)</span></code>.</td>
</tr>
</tbody>
</table>
<p>Options can later be accessed through the
<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">config</span></code></a> object, respectively:</p>
<ul class="simple">
<li><a class="reference internal" href="#_pytest.config.Config.getoption" title="_pytest.config.Config.getoption"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getoption(name)</span></code></a> to
retrieve the value of a command line option.</li>
<li><a class="reference internal" href="#_pytest.config.Config.getini" title="_pytest.config.Config.getini"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getini(name)</span></code></a> to retrieve
a value read from an ini-style file.</li>
</ul>
<p>The config object is passed around on many internal objects via the <code class="docutils literal notranslate"><span class="pre">.config</span></code>
attribute or can be retrieved as the <code class="docutils literal notranslate"><span class="pre">pytestconfig</span></code> fixture.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_addhooks">
<code class="descname">pytest_addhooks</code><span class="sig-paren">(</span><em>pluginmanager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_addhooks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_addhooks" title="Permalink to this definition">¶</a></dt>
<dd><p>called at plugin registration time to allow adding new hooks via a call to
<code class="docutils literal notranslate"><span class="pre">pluginmanager.add_hookspecs(module_or_class,</span> <span class="pre">prefix)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pluginmanager</strong> (<a class="reference internal" href="#_pytest.config.PytestPluginManager" title="_pytest.config.PytestPluginManager"><em>_pytest.config.PytestPluginManager</em></a>) – pytest plugin manager</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_configure">
<code class="descname">pytest_configure</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows plugins and conftest files to perform initial configuration.</p>
<p>This hook is called for every plugin and initial conftest file
after command line options have been parsed.</p>
<p>After that, the hook is called for other conftest files as they are
imported.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_unconfigure">
<code class="descname">pytest_unconfigure</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_unconfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_unconfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>called before test process is exited.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_sessionstart">
<code class="descname">pytest_sessionstart</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_sessionstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_sessionstart" title="Permalink to this definition">¶</a></dt>
<dd><p>called after the <code class="docutils literal notranslate"><span class="pre">Session</span></code> object has been created and before performing collection
and entering the run test loop.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_sessionfinish">
<code class="descname">pytest_sessionfinish</code><span class="sig-paren">(</span><em>session</em>, <em>exitstatus</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_sessionfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_sessionfinish" title="Permalink to this definition">¶</a></dt>
<dd><p>called after whole test run finished, right before returning the exit status to the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</li>
<li><strong>exitstatus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the status which pytest will return to the system</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="test-running-hooks">
<h3><a class="toc-backref" href="#id51">Test running hooks</a><a class="headerlink" href="#test-running-hooks" title="Permalink to this headline">¶</a></h3>
<p>All runtest related hooks receive a <code class="xref py py-class docutils literal notranslate"><span class="pre">pytest.Item</span></code> object.</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_runtestloop">
<code class="descname">pytest_runtestloop</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtestloop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtestloop" title="Permalink to this definition">¶</a></dt>
<dd><p>called for performing the main runtest loop
(after collection finished).</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_protocol">
<code class="descname">pytest_runtest_protocol</code><span class="sig-paren">(</span><em>item</em>, <em>nextitem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the runtest_setup/call/teardown protocol for
the given test item, including capturing exceptions and calling
reporting hooks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>item</strong> – test item for which the runtest protocol is performed.</li>
<li><strong>nextitem</strong> – the scheduled-to-be-next test item (or None if this
is the end my friend).  This argument is passed on to
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return boolean:</th><td class="field-body"><p class="first last">True if no further hook implementations should be invoked.</p>
</td>
</tr>
</tbody>
</table>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logstart">
<code class="descname">pytest_runtest_logstart</code><span class="sig-paren">(</span><em>nodeid</em>, <em>location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logstart" title="Permalink to this definition">¶</a></dt>
<dd><p>signal the start of running a single test item.</p>
<p>This hook will be called <strong>before</strong> <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_setup" title="_pytest.hookspec.pytest_runtest_setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_setup()</span></code></a>, <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_call" title="_pytest.hookspec.pytest_runtest_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_call()</span></code></a> and
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a> hooks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodeid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – full id of the item</li>
<li><strong>location</strong> – a triple of <code class="docutils literal notranslate"><span class="pre">(filename,</span> <span class="pre">linenum,</span> <span class="pre">testname)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logfinish">
<code class="descname">pytest_runtest_logfinish</code><span class="sig-paren">(</span><em>nodeid</em>, <em>location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logfinish" title="Permalink to this definition">¶</a></dt>
<dd><p>signal the complete finish of running a single test item.</p>
<p>This hook will be called <strong>after</strong> <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_setup" title="_pytest.hookspec.pytest_runtest_setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_setup()</span></code></a>, <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_call" title="_pytest.hookspec.pytest_runtest_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_call()</span></code></a> and
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a> hooks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodeid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – full id of the item</li>
<li><strong>location</strong> – a triple of <code class="docutils literal notranslate"><span class="pre">(filename,</span> <span class="pre">linenum,</span> <span class="pre">testname)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_setup">
<code class="descname">pytest_runtest_setup</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>called before <code class="docutils literal notranslate"><span class="pre">pytest_runtest_call(item)</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_call">
<code class="descname">pytest_runtest_call</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_call" title="Permalink to this definition">¶</a></dt>
<dd><p>called to execute the test <code class="docutils literal notranslate"><span class="pre">item</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_teardown">
<code class="descname">pytest_runtest_teardown</code><span class="sig-paren">(</span><em>item</em>, <em>nextitem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>called after <code class="docutils literal notranslate"><span class="pre">pytest_runtest_call</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nextitem</strong> – the scheduled-to-be-next test item (None if no further
test item is scheduled).  This argument can be used to
perform exact teardowns, i.e. calling just enough finalizers
so that nextitem only needs to call setup-functions.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_makereport">
<code class="descname">pytest_runtest_makereport</code><span class="sig-paren">(</span><em>item</em>, <em>call</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_makereport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_makereport" title="Permalink to this definition">¶</a></dt>
<dd><p>return a <a class="reference internal" href="#_pytest.runner.TestReport" title="_pytest.runner.TestReport"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.runner.TestReport</span></code></a> object
for the given <code class="xref py py-class docutils literal notranslate"><span class="pre">pytest.Item</span></code> and
<a class="reference internal" href="#_pytest.runner.CallInfo" title="_pytest.runner.CallInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.runner.CallInfo</span></code></a>.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<p>For deeper understanding you may look at the default implementation of
these hooks in <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.runner</span></code> and maybe also
in <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.pdb</span></code> which interacts with <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.capture</span></code>
and its input/output capturing in order to immediately drop
into interactive debugging when a test failure occurs.</p>
<p>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.terminal</span></code> reported specifically uses
the reporting hook to print information about a test run.</p>
</div>
<div class="section" id="collection-hooks">
<h3><a class="toc-backref" href="#id52">Collection hooks</a><a class="headerlink" href="#collection-hooks" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pytest</span></code> calls the following hooks for collecting files and directories:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collection">
<code class="descname">pytest_collection</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the collection protocol for the given session.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_ignore_collect">
<code class="descname">pytest_ignore_collect</code><span class="sig-paren">(</span><em>path</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_ignore_collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_ignore_collect" title="Permalink to this definition">¶</a></dt>
<dd><p>return True to prevent considering this path for collection.
This hook is consulted for all files and directories prior to calling
more specific hooks.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the path to analyze</li>
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collect_directory">
<code class="descname">pytest_collect_directory</code><span class="sig-paren">(</span><em>path</em>, <em>parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collect_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collect_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>called before traversing a directory for collection files.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the path to analyze</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collect_file">
<code class="descname">pytest_collect_file</code><span class="sig-paren">(</span><em>path</em>, <em>parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collect_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collect_file" title="Permalink to this definition">¶</a></dt>
<dd><p>return collection Node or None for the given path. Any new node
needs to have the specified <code class="docutils literal notranslate"><span class="pre">parent</span></code> as a parent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the path to collect</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>For influencing the collection of objects in Python modules
you can use the following hook:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_pycollect_makeitem">
<code class="descname">pytest_pycollect_makeitem</code><span class="sig-paren">(</span><em>collector</em>, <em>name</em>, <em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_pycollect_makeitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_pycollect_makeitem" title="Permalink to this definition">¶</a></dt>
<dd><p>return custom item/collector for a python object in a module, or None.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_generate_tests">
<code class="descname">pytest_generate_tests</code><span class="sig-paren">(</span><em>metafunc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_generate_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_generate_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>generate (multiple) parametrized calls to a test function.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_make_parametrize_id">
<code class="descname">pytest_make_parametrize_id</code><span class="sig-paren">(</span><em>config</em>, <em>val</em>, <em>argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_make_parametrize_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_make_parametrize_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a user-friendly string representation of the given <code class="docutils literal notranslate"><span class="pre">val</span></code> that will be used
by &#64;pytest.mark.parametrize calls. Return None if the hook doesn’t know about <code class="docutils literal notranslate"><span class="pre">val</span></code>.
The parameter name is available as <code class="docutils literal notranslate"><span class="pre">argname</span></code>, if required.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>val</strong> – the parametrized value</li>
<li><strong>argname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – the automatic parameter name produced by pytest</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>After collection is complete, you can modify the order of
items, delete or otherwise amend the test items:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collection_modifyitems">
<code class="descname">pytest_collection_modifyitems</code><span class="sig-paren">(</span><em>session</em>, <em>config</em>, <em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collection_modifyitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collection_modifyitems" title="Permalink to this definition">¶</a></dt>
<dd><p>called after collection has been performed, may filter or re-order
the items in-place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</li>
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>items</strong> (<em>List</em><em>[</em><a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><em>_pytest.nodes.Item</em></a><em>]</em>) – list of item objects</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="reporting-hooks">
<h3><a class="toc-backref" href="#id53">Reporting hooks</a><a class="headerlink" href="#reporting-hooks" title="Permalink to this headline">¶</a></h3>
<p>Session related reporting hooks:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collectstart">
<code class="descname">pytest_collectstart</code><span class="sig-paren">(</span><em>collector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collectstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collectstart" title="Permalink to this definition">¶</a></dt>
<dd><p>collector starts collecting.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_itemcollected">
<code class="descname">pytest_itemcollected</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_itemcollected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_itemcollected" title="Permalink to this definition">¶</a></dt>
<dd><p>we just collected a test item.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collectreport">
<code class="descname">pytest_collectreport</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collectreport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collectreport" title="Permalink to this definition">¶</a></dt>
<dd><p>collector finished collecting.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_deselected">
<code class="descname">pytest_deselected</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_deselected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_deselected" title="Permalink to this definition">¶</a></dt>
<dd><p>called for test items deselected by keyword.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_header">
<code class="descname">pytest_report_header</code><span class="sig-paren">(</span><em>config</em>, <em>startdir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_header" title="Permalink to this definition">¶</a></dt>
<dd><p>return a string or list of strings to be displayed as header info for terminal reporting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>startdir</strong> – py.path object with the starting dir</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function should be implemented only in plugins or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>
files situated at the tests root directory due to how pytest
<a class="reference internal" href="writing_plugins.html#pluginorder"><span class="std std-ref">discovers plugins during startup</span></a>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_collectionfinish">
<code class="descname">pytest_report_collectionfinish</code><span class="sig-paren">(</span><em>config</em>, <em>startdir</em>, <em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_collectionfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_collectionfinish" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
<p>return a string or list of strings to be displayed after collection has finished successfully.</p>
<p>This strings will be displayed after the standard “collected X items” message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>startdir</strong> – py.path object with the starting dir</li>
<li><strong>items</strong> – list of pytest items that are going to be executed; this list should not be modified.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_teststatus">
<code class="descname">pytest_report_teststatus</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_teststatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_teststatus" title="Permalink to this definition">¶</a></dt>
<dd><p>return result-category, shortletter and verbose word for reporting.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_terminal_summary">
<code class="descname">pytest_terminal_summary</code><span class="sig-paren">(</span><em>terminalreporter</em>, <em>exitstatus</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_terminal_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_terminal_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a section to terminal summary reporting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>terminalreporter</strong> (<em>_pytest.terminal.TerminalReporter</em>) – the internal terminal reporter object</li>
<li><strong>exitstatus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the exit status that will be reported back to the OS</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.5: </span>The <code class="docutils literal notranslate"><span class="pre">config</span></code> parameter.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_fixture_setup">
<code class="descname">pytest_fixture_setup</code><span class="sig-paren">(</span><em>fixturedef</em>, <em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_fixture_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_fixture_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>performs fixture setup execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The return value of the call to the fixture function</td>
</tr>
</tbody>
</table>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the fixture function returns None, other implementations of
this hook function will continue to be called, according to the
behavior of the <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a> option.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_fixture_post_finalizer">
<code class="descname">pytest_fixture_post_finalizer</code><span class="sig-paren">(</span><em>fixturedef</em>, <em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_fixture_post_finalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_fixture_post_finalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>called after fixture teardown, but before the cache is cleared so
the fixture result cache <code class="docutils literal notranslate"><span class="pre">fixturedef.cached_result</span></code> can
still be accessed.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_logwarning">
<code class="descname">pytest_logwarning</code><span class="sig-paren">(</span><em>message</em>, <em>code</em>, <em>nodeid</em>, <em>fslocation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_logwarning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_logwarning" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.8: </span>This hook is will stop working in a future release.</p>
<p>pytest no longer triggers this hook, but the
terminal writer still implements it to display warnings issued by
<a class="reference internal" href="#_pytest.config.Config.warn" title="_pytest.config.Config.warn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_pytest.config.Config.warn()</span></code></a> and <a class="reference internal" href="#_pytest.nodes.Node.warn" title="_pytest.nodes.Node.warn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_pytest.nodes.Node.warn()</span></code></a>. Calling those functions will be
an error in future releases.</p>
</div>
<p>process a warning specified by a message, a code string,
a nodeid and fslocation (both of which may be None
if the warning is not tied to a particular node/location).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_warning_captured">
<code class="descname">pytest_warning_captured</code><span class="sig-paren">(</span><em>warning_message</em>, <em>when</em>, <em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_warning_captured"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_warning_captured" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a warning captured by the internal pytest warnings plugin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>warning_message</strong> (<em>warnings.WarningMessage</em>) – The captured warning. This is the same object produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.catch_warnings()</span></code>, and contains
the same attributes as the parameters of <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.showwarning" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.showwarning()</span></code></a>.</li>
<li><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <p>Indicates when the warning was captured. Possible values:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">&quot;config&quot;</span></code>: during pytest configuration/initialization stage.</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;collect&quot;</span></code>: during test collection.</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;runtest&quot;</span></code>: during test execution.</li>
</ul>
</li>
<li><strong>item</strong> (<em>pytest.Item|None</em>) – <p><strong>DEPRECATED</strong>: This parameter is incompatible with <code class="docutils literal notranslate"><span class="pre">pytest-xdist</span></code>, and will always receive <code class="docutils literal notranslate"><span class="pre">None</span></code>
in a future release.</p>
<p>The item being executed if <code class="docutils literal notranslate"><span class="pre">when</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;runtest&quot;</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>And here is the central hook for reporting about
test execution:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logreport">
<code class="descname">pytest_runtest_logreport</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logreport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logreport" title="Permalink to this definition">¶</a></dt>
<dd><p>process a test setup/call/teardown report relating to
the respective phase of executing a test.</p>
</dd></dl>

<p>You can also use this hook to customize assertion representation for some
types:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_assertrepr_compare">
<code class="descname">pytest_assertrepr_compare</code><span class="sig-paren">(</span><em>config</em>, <em>op</em>, <em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_assertrepr_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_assertrepr_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>return explanation for comparisons in failing assert expressions.</p>
<p>Return None for no custom explanation, otherwise return a list
of strings.  The strings will be joined by newlines but any newlines
<em>in</em> a string will be escaped.  Note that all but the first line will
be indented slightly, the intention is for the first line to be a summary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="debugging-interaction-hooks">
<h3><a class="toc-backref" href="#id54">Debugging/Interaction hooks</a><a class="headerlink" href="#debugging-interaction-hooks" title="Permalink to this headline">¶</a></h3>
<p>There are few hooks which can be used for special
reporting or interaction with exceptions:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_internalerror">
<code class="descname">pytest_internalerror</code><span class="sig-paren">(</span><em>excrepr</em>, <em>excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_internalerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_internalerror" title="Permalink to this definition">¶</a></dt>
<dd><p>called for internal errors.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_keyboard_interrupt">
<code class="descname">pytest_keyboard_interrupt</code><span class="sig-paren">(</span><em>excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_keyboard_interrupt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_keyboard_interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>called for keyboard interrupt.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_exception_interact">
<code class="descname">pytest_exception_interact</code><span class="sig-paren">(</span><em>node</em>, <em>call</em>, <em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_exception_interact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_exception_interact" title="Permalink to this definition">¶</a></dt>
<dd><p>called when an exception was raised which can potentially be
interactively handled.</p>
<p>This hook is only called if an exception was raised
that is not an internal exception like <code class="docutils literal notranslate"><span class="pre">skip.Exception</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_enter_pdb">
<code class="descname">pytest_enter_pdb</code><span class="sig-paren">(</span><em>config</em>, <em>pdb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_enter_pdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_enter_pdb" title="Permalink to this definition">¶</a></dt>
<dd><p>called upon pdb.set_trace(), can be used by plugins to take special
action just before the python debugger enters in interactive mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</li>
<li><strong>pdb</strong> (<a class="reference external" href="https://docs.python.org/3/library/pdb.html#pdb.Pdb" title="(in Python v3.8)"><em>pdb.Pdb</em></a>) – Pdb instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="objects">
<h2><a class="toc-backref" href="#id55">Objects</a><a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<p>Full reference to objects accessible from <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">fixtures</span></a> or <a class="reference internal" href="#hook-reference"><span class="std std-ref">hooks</span></a>.</p>
<div class="section" id="callinfo">
<h3><a class="toc-backref" href="#id56">CallInfo</a><a class="headerlink" href="#callinfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.runner.CallInfo">
<em class="property">class </em><code class="descname">CallInfo</code><a class="reference internal" href="_modules/_pytest/runner.html#CallInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.runner.CallInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Result/Exception info a function invocation.</p>
<dl class="attribute">
<dt id="_pytest.runner.CallInfo.when">
<code class="descname">when</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.CallInfo.when" title="Permalink to this definition">¶</a></dt>
<dd><p>context of invocation: one of “setup”, “call”,
“teardown”, “memocollect”</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.CallInfo.excinfo">
<code class="descname">excinfo</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.CallInfo.excinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>None or ExceptionInfo object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="class">
<h3><a class="toc-backref" href="#id57">Class</a><a class="headerlink" href="#class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Class">
<em class="property">class </em><code class="descname">Class</code><a class="reference internal" href="_modules/_pytest/python.html#Class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.PyCollector</span></code></p>
<p>Collector for test methods.</p>
<dl class="method">
<dt id="_pytest.python.Class.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Class.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Class.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="collector">
<h3><a class="toc-backref" href="#id58">Collector</a><a class="headerlink" href="#collector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Collector">
<em class="property">class </em><code class="descname">Collector</code><a class="reference internal" href="_modules/_pytest/nodes.html#Collector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Node" title="_pytest.nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Node</span></code></a></p>
<p>Collector instances create children through collect()
and thus iteratively build a tree.</p>
<dl class="exception">
<dt id="_pytest.nodes.Collector.CollectError">
<em class="property">exception </em><code class="descname">CollectError</code><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.CollectError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.CollectError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>an error during collection, contains a custom message.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Collector.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Collector.repr_failure">
<code class="descname">repr_failure</code><span class="sig-paren">(</span><em>excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.repr_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.repr_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>represent a collection failure.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="config">
<h3><a class="toc-backref" href="#id59">Config</a><a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.Config">
<em class="property">class </em><code class="descname">Config</code><a class="reference internal" href="_modules/_pytest/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>access to configuration values, pluginmanager and plugin hooks.</p>
<dl class="attribute">
<dt id="_pytest.config.Config.option">
<code class="descname">option</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.config.Config.option" title="Permalink to this definition">¶</a></dt>
<dd><p>access to command line option as attributes.
(deprecated), use <a class="reference internal" href="#_pytest.config.Config.getoption" title="_pytest.config.Config.getoption"><code class="xref py py-func docutils literal notranslate"><span class="pre">getoption()</span></code></a> instead</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.config.Config.pluginmanager">
<code class="descname">pluginmanager</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.config.Config.pluginmanager" title="Permalink to this definition">¶</a></dt>
<dd><p>a pluginmanager instance</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.add_cleanup">
<code class="descname">add_cleanup</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.add_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.add_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function to be called when the config object gets out of
use (usually coninciding with pytest_unconfigure).</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.warn">
<code class="descname">warn</code><span class="sig-paren">(</span><em>code</em>, <em>message</em>, <em>fslocation=None</em>, <em>nodeid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.warn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.warn" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.8: </span>Use <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.warn" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.warn()</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.warn_explicit" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.warn_explicit()</span></code></a> directly instead.</p>
</div>
<p>Generate a warning for this test session.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.fromdictargs">
<em class="property">classmethod </em><code class="descname">fromdictargs</code><span class="sig-paren">(</span><em>option_dict</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.fromdictargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.fromdictargs" title="Permalink to this definition">¶</a></dt>
<dd><p>constructor useable for subprocesses.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.addinivalue_line">
<code class="descname">addinivalue_line</code><span class="sig-paren">(</span><em>name</em>, <em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.addinivalue_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.addinivalue_line" title="Permalink to this definition">¶</a></dt>
<dd><p>add a line to an ini-file option. The option must have been
declared but might not yet be set in which case the line becomes the
the first line in its value.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getini">
<code class="descname">getini</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getini" title="Permalink to this definition">¶</a></dt>
<dd><p>return configuration value from an <a class="reference internal" href="customize.html#inifiles"><span class="std std-ref">ini file</span></a>. If the
specified name hasn’t been registered through a prior
<code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addini</span></code>
call (usually from a plugin), a ValueError is raised.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getoption">
<code class="descname">getoption</code><span class="sig-paren">(</span><em>name</em>, <em>default=&lt;NOTSET&gt;</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getoption" title="Permalink to this definition">¶</a></dt>
<dd><p>return command line option value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – name of the option.  You may also specify
the literal <code class="docutils literal notranslate"><span class="pre">--OPT</span></code> option instead of the “dest” option name.</li>
<li><strong>default</strong> – default value if no option of that name exists.</li>
<li><strong>skip</strong> – if True raise pytest.skip if option does not exists
or has a None value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getvalue">
<code class="descname">getvalue</code><span class="sig-paren">(</span><em>name</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated, use getoption())</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getvalueorskip">
<code class="descname">getvalueorskip</code><span class="sig-paren">(</span><em>name</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getvalueorskip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getvalueorskip" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated, use getoption(skip=True))</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptioninfo">
<h3><a class="toc-backref" href="#id60">ExceptionInfo</a><a class="headerlink" href="#exceptioninfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest._code.ExceptionInfo">
<em class="property">class </em><code class="descname">ExceptionInfo</code><span class="sig-paren">(</span><em>tup=None</em>, <em>exprinfo=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>wraps sys.exc_info() objects and offers
help for navigating the traceback.</p>
<dl class="attribute">
<dt id="_pytest._code.ExceptionInfo.type">
<code class="descname">type</code><em class="property"> = None</em><a class="headerlink" href="#_pytest._code.ExceptionInfo.type" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception class</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest._code.ExceptionInfo.value">
<code class="descname">value</code><em class="property"> = None</em><a class="headerlink" href="#_pytest._code.ExceptionInfo.value" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception instance</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest._code.ExceptionInfo.tb">
<code class="descname">tb</code><em class="property"> = None</em><a class="headerlink" href="#_pytest._code.ExceptionInfo.tb" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception raw traceback</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest._code.ExceptionInfo.typename">
<code class="descname">typename</code><em class="property"> = None</em><a class="headerlink" href="#_pytest._code.ExceptionInfo.typename" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception type name</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest._code.ExceptionInfo.traceback">
<code class="descname">traceback</code><em class="property"> = None</em><a class="headerlink" href="#_pytest._code.ExceptionInfo.traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception traceback (_pytest._code.Traceback instance)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.exconly">
<code class="descname">exconly</code><span class="sig-paren">(</span><em>tryshort=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.exconly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.exconly" title="Permalink to this definition">¶</a></dt>
<dd><p>return the exception as a string</p>
<p>when ‘tryshort’ resolves to True, and the exception is a
_pytest._code._AssertionError, only the actual exception part of
the exception representation is returned (so ‘AssertionError: ‘ is
removed from the beginning)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.errisinstance">
<code class="descname">errisinstance</code><span class="sig-paren">(</span><em>exc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.errisinstance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.errisinstance" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if the exception is an instance of exc</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.getrepr">
<code class="descname">getrepr</code><span class="sig-paren">(</span><em>showlocals=False</em>, <em>style='long'</em>, <em>abspath=False</em>, <em>tbfilter=True</em>, <em>funcargs=False</em>, <em>truncate_locals=True</em>, <em>chain=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.getrepr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.getrepr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str()able representation of this exception info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>showlocals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Show locals per traceback entry.
Ignored if <code class="docutils literal notranslate"><span class="pre">style==&quot;native&quot;</span></code>.</li>
<li><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – long|short|no|native traceback style</li>
<li><strong>abspath</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If paths should be changed to absolute or left unchanged.</li>
<li><strong>tbfilter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Hide entries that contain a local variable <code class="docutils literal notranslate"><span class="pre">__tracebackhide__==True</span></code>.
Ignored if <code class="docutils literal notranslate"><span class="pre">style==&quot;native&quot;</span></code>.</li>
<li><strong>funcargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Show fixtures (“funcargs” for legacy purposes) per traceback entry.</li>
<li><strong>truncate_locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – With <code class="docutils literal notranslate"><span class="pre">showlocals==True</span></code>, make sure locals can be safely represented as strings.</li>
<li><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – if chained exceptions in Python 3 should be shown.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.9: </span>Added the <code class="docutils literal notranslate"><span class="pre">chain</span></code> parameter.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>regexp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match the regular expression ‘regexp’ on the string representation of
the exception. If it matches then True is returned (so that it is
possible to write ‘assert excinfo.match()’). If it doesn’t match an
AssertionError is raised.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fixturedef">
<h3><a class="toc-backref" href="#id61">FixtureDef</a><a class="headerlink" href="#fixturedef" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.fixtures.FixtureDef">
<em class="property">class </em><code class="descname">FixtureDef</code><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureDef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureDef" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A container for a factory definition.</p>
</dd></dl>

</div>
<div class="section" id="fscollector">
<h3><a class="toc-backref" href="#id62">FSCollector</a><a class="headerlink" href="#fscollector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.FSCollector">
<em class="property">class </em><code class="descname">FSCollector</code><a class="reference internal" href="_modules/_pytest/nodes.html#FSCollector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.FSCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Collector" title="_pytest.nodes.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Collector</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="function">
<h3><a class="toc-backref" href="#id63">Function</a><a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Function">
<em class="property">class </em><code class="descname">Function</code><a class="reference internal" href="_modules/_pytest/python.html#Function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.FunctionMixin</span></code>, <a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Item</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.compat.FuncargnamesCompatAttr</span></code></p>
<p>a Function Item is responsible for setting up and executing a
Python test function.</p>
<dl class="attribute">
<dt id="_pytest.python.Function.originalname">
<code class="descname">originalname</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Function.originalname" title="Permalink to this definition">¶</a></dt>
<dd><p>original function name, without any decorations (for example
parametrization adds a <code class="docutils literal notranslate"><span class="pre">&quot;[...]&quot;</span></code> suffix to function names).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Function.function">
<code class="descname">function</code><a class="headerlink" href="#_pytest.python.Function.function" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying python ‘function’ object</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Function.runtest">
<code class="descname">runtest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Function.runtest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function.runtest" title="Permalink to this definition">¶</a></dt>
<dd><p>execute the underlying test function.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Function.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Function.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>perform setup for this test function.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="item">
<h3><a class="toc-backref" href="#id64">Item</a><a class="headerlink" href="#item" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Item">
<em class="property">class </em><code class="descname">Item</code><a class="reference internal" href="_modules/_pytest/nodes.html#Item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Node" title="_pytest.nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Node</span></code></a></p>
<p>a basic test invocation item. Note that for a single function
there might be multiple test invocation items.</p>
<dl class="attribute">
<dt id="_pytest.nodes.Item.user_properties">
<code class="descname">user_properties</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Item.user_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>user properties is a list of tuples (name, value) that holds user
defined properties for this test.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Item.add_report_section">
<code class="descname">add_report_section</code><span class="sig-paren">(</span><em>when</em>, <em>key</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Item.add_report_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Item.add_report_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new report section, similar to what’s done internally to add stdout and
stderr captured output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">add_report_section</span><span class="p">(</span><span class="s2">&quot;call&quot;</span><span class="p">,</span> <span class="s2">&quot;stdout&quot;</span><span class="p">,</span> <span class="s2">&quot;report section contents&quot;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – One of the possible capture states, <code class="docutils literal notranslate"><span class="pre">&quot;setup&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;call&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;teardown&quot;</span></code>.</li>
<li><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the section, can be customized at will. Pytest uses <code class="docutils literal notranslate"><span class="pre">&quot;stdout&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;stderr&quot;</span></code> internally.</li>
<li><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The full contents as a string.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="markdecorator">
<h3><a class="toc-backref" href="#id65">MarkDecorator</a><a class="headerlink" href="#markdecorator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.MarkDecorator">
<em class="property">class </em><code class="descname">MarkDecorator</code><span class="sig-paren">(</span><em>mark</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator for test functions and test classes.  When applied
it will create <a class="reference internal" href="#_pytest.mark.MarkInfo" title="_pytest.mark.MarkInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkInfo</span></code></a> objects which may be
<a class="reference internal" href="example/simple.html#excontrolskip"><span class="std std-ref">retrieved by hooks as item keywords</span></a>.
MarkDecorator instances are often created like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mark1</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">NAME</span>              <span class="c1"># simple MarkDecorator</span>
<span class="n">mark2</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">NAME</span><span class="p">(</span><span class="n">name1</span><span class="o">=</span><span class="n">value</span><span class="p">)</span> <span class="c1"># parametrized MarkDecorator</span>
</pre></div>
</div>
<p>and can then be applied as decorators to test functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@mark2</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<dl class="docutils">
<dt>When a MarkDecorator instance is called it does the following:</dt>
<dd><ol class="first last arabic simple">
<li>If called with a single class as its only positional argument and no
additional keyword arguments, it attaches itself to the class so it
gets applied automatically to all test cases found in that class.</li>
<li>If called with a single function as its only positional argument and
no additional keyword arguments, it attaches a MarkInfo object to the
function, containing all the arguments already stored internally in
the MarkDecorator.</li>
<li>When called in any other case, it performs a ‘fake construction’ call,
i.e. it returns a new MarkDecorator instance with the original
MarkDecorator’s content updated with the arguments passed to this
call.</li>
</ol>
</dd>
</dl>
<p>Note: The rules above prevent MarkDecorator objects from storing only a
single function or class reference as their positional argument with no
additional keyword or positional arguments.</p>
<dl class="attribute">
<dt id="_pytest.mark.MarkDecorator.name">
<code class="descname">name</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.name</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.MarkDecorator.args">
<code class="descname">args</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.args" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.args</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.MarkDecorator.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.kwargs</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.MarkDecorator.with_args">
<code class="descname">with_args</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkDecorator.with_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkDecorator.with_args" title="Permalink to this definition">¶</a></dt>
<dd><p>return a MarkDecorator with extra arguments added</p>
<p>unlike call this can be used even if the sole argument is a callable/class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">MarkDecorator</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="markgenerator">
<h3><a class="toc-backref" href="#id66">MarkGenerator</a><a class="headerlink" href="#markgenerator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.MarkGenerator">
<em class="property">class </em><code class="descname">MarkGenerator</code><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory for <a class="reference internal" href="#_pytest.mark.MarkDecorator" title="_pytest.mark.MarkDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkDecorator</span></code></a> objects - exposed as
a <code class="docutils literal notranslate"><span class="pre">pytest.mark</span></code> singleton instance.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">slowtest</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
   <span class="k">pass</span>
</pre></div>
</div>
<p>will set a ‘slowtest’ <a class="reference internal" href="#_pytest.mark.MarkInfo" title="_pytest.mark.MarkInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkInfo</span></code></a> object
on the <code class="docutils literal notranslate"><span class="pre">test_function</span></code> object.</p>
</dd></dl>

</div>
<div class="section" id="markinfo">
<h3><a class="toc-backref" href="#id67">MarkInfo</a><a class="headerlink" href="#markinfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.MarkInfo">
<em class="property">class </em><code class="descname">MarkInfo</code><span class="sig-paren">(</span><em>marks</em>, <em>combined=NOTHING</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Marking object created by <a class="reference internal" href="#_pytest.mark.MarkDecorator" title="_pytest.mark.MarkDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkDecorator</span></code></a> instances.</p>
<dl class="attribute">
<dt id="_pytest.mark.MarkInfo.name">
<code class="descname">name</code><a class="headerlink" href="#_pytest.mark.MarkInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for combined.name</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.MarkInfo.args">
<code class="descname">args</code><a class="headerlink" href="#_pytest.mark.MarkInfo.args" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for combined.args</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.MarkInfo.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#_pytest.mark.MarkInfo.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for combined.kwargs</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.MarkInfo.add_mark">
<code class="descname">add_mark</code><span class="sig-paren">(</span><em>mark</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkInfo.add_mark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkInfo.add_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>add a MarkInfo with the given args and kwargs.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mark">
<h3><a class="toc-backref" href="#id68">Mark</a><a class="headerlink" href="#mark" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.structures.Mark">
<em class="property">class </em><code class="descname">Mark</code><span class="sig-paren">(</span><em>name: str</em>, <em>args</em>, <em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#Mark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.structures.Mark" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="_pytest.mark.structures.Mark.name">
<code class="descname">name</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.name" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the mark</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.structures.Mark.args">
<code class="descname">args</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.args" title="Permalink to this definition">¶</a></dt>
<dd><p>positional arguments of the mark decorator</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.structures.Mark.kwargs">
<code class="descname">kwargs</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>keyword arguments of the mark decorator</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.structures.Mark.combined_with">
<code class="descname">combined_with</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#Mark.combined_with"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.structures.Mark.combined_with" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark"><em>Mark</em></a>) – the mark to combine with</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark">Mark</a></td>
</tr>
</tbody>
</table>
<p>combines by appending aargs and merging the mappings</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="metafunc">
<h3><a class="toc-backref" href="#id69">Metafunc</a><a class="headerlink" href="#metafunc" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Metafunc">
<em class="property">class </em><code class="descname">Metafunc</code><span class="sig-paren">(</span><em>definition</em>, <em>fixtureinfo</em>, <em>config</em>, <em>cls=None</em>, <em>module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Metafunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Metafunc objects are passed to the <a class="reference internal" href="#_pytest.hookspec.pytest_generate_tests" title="_pytest.hookspec.pytest_generate_tests"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_generate_tests</span></code></a> hook.
They help to inspect a test function and to generate tests according to
test configuration or values specified in the class or module where a
test function is defined.</p>
<dl class="attribute">
<dt id="_pytest.python.Metafunc.config">
<code class="descname">config</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.config" title="Permalink to this definition">¶</a></dt>
<dd><p>access to the <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> object for the test session</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.module">
<code class="descname">module</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.module" title="Permalink to this definition">¶</a></dt>
<dd><p>the module object where the test function is defined in.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.function">
<code class="descname">function</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.function" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying python test function</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.fixturenames">
<code class="descname">fixturenames</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.fixturenames" title="Permalink to this definition">¶</a></dt>
<dd><p>set of fixture names required by the test function</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.cls">
<code class="descname">cls</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.cls" title="Permalink to this definition">¶</a></dt>
<dd><p>class object where the test function is defined in or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">parametrize</code><span class="sig-paren">(</span><em>argnames</em>, <em>argvalues</em>, <em>indirect=False</em>, <em>ids=None</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc.parametrize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add new invocations to the underlying test function using the list
of argvalues for the given argnames.  Parametrization is performed
during the collection phase.  If you need to setup expensive resources
see about setting indirect to do it rather at test setup time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argnames</strong> – a comma-separated string denoting one or more argument
names, or a list/tuple of argument strings.</li>
<li><strong>argvalues</strong> – The list of argvalues determines how often a
test is invoked with different argument values.  If only one
argname was specified argvalues is a list of values.  If N
argnames were specified, argvalues must be a list of N-tuples,
where each tuple-element specifies a value for its respective
argname.</li>
<li><strong>indirect</strong> – The list of argnames or boolean. A list of arguments’
names (subset of argnames). If True the list contains all names from
the argnames. Each argvalue corresponding to an argname in this list will
be passed as request.param to its respective argname fixture
function so that it can perform more expensive setups during the
setup phase of a test rather than at collection time.</li>
<li><strong>ids</strong> – list of string ids, or a callable.
If strings, each is corresponding to the argvalues so that they are
part of the test id. If None is given as id of specific test, the
automatically generated id for that argument will be used.
If callable, it should take one argument (a single argvalue) and return
a string or return None. If None, the automatically generated id for that
argument will be used.
If no ids are provided they will be generated automatically from
the argvalues.</li>
<li><strong>scope</strong> – if specified it denotes the scope of the parameters.
The scope is used for grouping tests by parameter instances.
It will also override any fixture-function defined scope, allowing
to set a dynamic scope using test context or configuration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Metafunc.addcall">
<code class="descname">addcall</code><span class="sig-paren">(</span><em>funcargs=None</em>, <em>id=&lt;object object&gt;</em>, <em>param=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc.addcall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Metafunc.addcall" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new call to the underlying test function during the collection phase of a test run.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.3: </span>Use <a class="reference internal" href="#_pytest.python.Metafunc.parametrize" title="_pytest.python.Metafunc.parametrize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parametrize()</span></code></a> instead.</p>
</div>
<p>Note that request.addcall() is called during the test collection phase prior and
independently to actual test execution.  You should only use addcall()
if you need to specify multiple arguments of a test function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>funcargs</strong> – argument keyword dictionary used when invoking
the test function.</li>
<li><strong>id</strong> – used for reporting and identification purposes.  If you
don’t supply an <cite>id</cite> an automatic unique id will be generated.</li>
<li><strong>param</strong> – a parameter which will be exposed to a later fixture function
invocation through the <code class="docutils literal notranslate"><span class="pre">request.param</span></code> attribute.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module">
<h3><a class="toc-backref" href="#id70">Module</a><a class="headerlink" href="#module" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Module">
<em class="property">class </em><code class="descname">Module</code><a class="reference internal" href="_modules/_pytest/python.html#Module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Module" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.File</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.PyCollector</span></code></p>
<p>Collector for test classes and functions.</p>
<dl class="method">
<dt id="_pytest.python.Module.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Module.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Module.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="node">
<h3><a class="toc-backref" href="#id71">Node</a><a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Node">
<em class="property">class </em><code class="descname">Node</code><a class="reference internal" href="_modules/_pytest/nodes.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>base class for Collector and Item the test collection tree.
Collector subclasses have children, Items are terminal nodes.</p>
<dl class="attribute">
<dt id="_pytest.nodes.Node.name">
<code class="descname">name</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.name" title="Permalink to this definition">¶</a></dt>
<dd><p>a unique name within the scope of the parent node</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.parent">
<code class="descname">parent</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>the parent collector node.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.config">
<code class="descname">config</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.config" title="Permalink to this definition">¶</a></dt>
<dd><p>the pytest config object</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.session">
<code class="descname">session</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.session" title="Permalink to this definition">¶</a></dt>
<dd><p>the session this node is part of</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.fspath">
<code class="descname">fspath</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.fspath" title="Permalink to this definition">¶</a></dt>
<dd><p>filesystem path where this node was collected from (can be None)</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.keywords">
<code class="descname">keywords</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>keywords/markers collected from all scopes</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.own_markers">
<code class="descname">own_markers</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.own_markers" title="Permalink to this definition">¶</a></dt>
<dd><p>the marker objects belonging to this node</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.extra_keyword_matches">
<code class="descname">extra_keyword_matches</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.extra_keyword_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>allow adding of extra keywords to use for matching</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.ihook">
<code class="descname">ihook</code><a class="headerlink" href="#_pytest.nodes.Node.ihook" title="Permalink to this definition">¶</a></dt>
<dd><p>fspath sensitive hook proxy used to call pytest hooks</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.warn">
<code class="descname">warn</code><span class="sig-paren">(</span><em>_code_or_warning=None</em>, <em>message=None</em>, <em>code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.warn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a warning for this item.</p>
<p>Warnings will be displayed after the test session, unless explicitly suppressed.</p>
<p>This can be called in two forms:</p>
<p><strong>Warning instance</strong></p>
<p>This was introduced in pytest 3.8 and uses the standard warning mechanism to issue warnings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">PytestWarning</span><span class="p">(</span><span class="s2">&quot;some message&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>The warning instance must be a subclass of <a class="reference internal" href="warnings.html#pytest.PytestWarning" title="pytest.PytestWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytest.PytestWarning</span></code></a>.</p>
<p><strong>code/message (deprecated)</strong></p>
<p>This form was used in pytest prior to 3.8 and is considered deprecated. Using this form will emit another
warning about the deprecation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;CI&quot;</span><span class="p">,</span> <span class="s2">&quot;some message&quot;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>_code_or_warning</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Warning" title="(in Python v3.8)"><em>Warning</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>]</em>) – warning instance or warning code (legacy). This parameter receives an underscore for backward
compatibility with the legacy code/message form, and will be replaced for something
more usual when the legacy form is removed.</li>
<li><strong>message</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>]</em>) – message to display when called in the legacy form.</li>
<li><strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – code for the warning, in legacy form when using keyword arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.nodeid">
<code class="descname">nodeid</code><a class="headerlink" href="#_pytest.nodes.Node.nodeid" title="Permalink to this definition">¶</a></dt>
<dd><p>a ::-separated string denoting its collection tree address.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.listchain">
<code class="descname">listchain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.listchain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.listchain" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of all parent collectors up to self,
starting from root of collection tree.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.add_marker">
<code class="descname">add_marker</code><span class="sig-paren">(</span><em>marker</em>, <em>append=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.add_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.add_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>dynamically add a marker object to the node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>marker</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">pytest.mark.*</span></code>  object) – <code class="docutils literal notranslate"><span class="pre">append=True</span></code> whether to append the marker,
if <code class="docutils literal notranslate"><span class="pre">False</span></code> insert at position <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.iter_markers">
<code class="descname">iter_markers</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.iter_markers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.iter_markers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – if given, filter the results by the name attribute</td>
</tr>
</tbody>
</table>
<p>iterate over all markers of the node</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.iter_markers_with_node">
<em class="property">for ... in </em><code class="descname">iter_markers_with_node</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.iter_markers_with_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.iter_markers_with_node" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – if given, filter the results by the name attribute</td>
</tr>
</tbody>
</table>
<p>iterate over all markers of the node
returns sequence of tuples (node, mark)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.get_closest_marker">
<code class="descname">get_closest_marker</code><span class="sig-paren">(</span><em>name</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.get_closest_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.get_closest_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>return the first marker matching the name, from closest (for example function) to farther level (for example
module level).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default</strong> – fallback return value of no marker was found</li>
<li><strong>name</strong> – name to filter by</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.get_marker">
<code class="descname">get_marker</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.get_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.get_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>get a marker object from this node or None if
the node doesn’t have a marker with that name.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 3.6: </span>This function has been deprecated in favor of
<a class="reference internal" href="#_pytest.nodes.Node.get_closest_marker" title="_pytest.nodes.Node.get_closest_marker"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Node.get_closest_marker</span></code></a> and
<a class="reference internal" href="#_pytest.nodes.Node.iter_markers" title="_pytest.nodes.Node.iter_markers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Node.iter_markers</span></code></a>, see <a class="reference internal" href="mark.html#update-marker-code"><span class="std std-ref">Updating code</span></a>
for more details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.listextrakeywords">
<code class="descname">listextrakeywords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.listextrakeywords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.listextrakeywords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of all extra keywords in self and any parents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.addfinalizer">
<code class="descname">addfinalizer</code><span class="sig-paren">(</span><em>fin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.addfinalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.addfinalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>register a function to be called when this node is finalized.</p>
<p>This method can only be called when this node is active
in a setup chain, for example during self.setup().</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.getparent">
<code class="descname">getparent</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.getparent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.getparent" title="Permalink to this definition">¶</a></dt>
<dd><p>get the next parent node (including ourself)
which is an instance of the given class</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="parser">
<h3><a class="toc-backref" href="#id72">Parser</a><a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.argparsing.Parser">
<em class="property">class </em><code class="descname">Parser</code><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for command line arguments and ini-file values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>extra_info</strong> – dict of generic param -&gt; value to display in case
there’s an error processing the command line arguments.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="_pytest.config.argparsing.Parser.getgroup">
<code class="descname">getgroup</code><span class="sig-paren">(</span><em>name</em>, <em>description=''</em>, <em>after=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.getgroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.getgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>get (or create) a named option Group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body">name of the option group.</td>
</tr>
<tr class="field-even field"><th class="field-name">Description:</th><td class="field-body">long description for –help output.</td>
</tr>
<tr class="field-odd field"><th class="field-name">After:</th><td class="field-body">name of other group, used for ordering –help output.</td>
</tr>
</tbody>
</table>
<p>The returned group object has an <code class="docutils literal notranslate"><span class="pre">addoption</span></code> method with the same
signature as <code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addoption</span></code> but will be shown in the
respective group in the output of <code class="docutils literal notranslate"><span class="pre">pytest.</span> <span class="pre">--help</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.addoption">
<code class="descname">addoption</code><span class="sig-paren">(</span><em>*opts</em>, <em>**attrs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.addoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.addoption" title="Permalink to this definition">¶</a></dt>
<dd><p>register a command line option.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Opts:</th><td class="field-body">option names, can be short or long options.</td>
</tr>
<tr class="field-even field"><th class="field-name">Attrs:</th><td class="field-body">same attributes which the <code class="docutils literal notranslate"><span class="pre">add_option()</span></code> function of the
<a class="reference external" href="http://docs.python.org/2/library/argparse.html">argparse library</a>
accepts.</td>
</tr>
</tbody>
</table>
<p>After command line parsing options are available on the pytest config
object via <code class="docutils literal notranslate"><span class="pre">config.option.NAME</span></code> where <code class="docutils literal notranslate"><span class="pre">NAME</span></code> is usually set
by passing a <code class="docutils literal notranslate"><span class="pre">dest</span></code> attribute, for example
<code class="docutils literal notranslate"><span class="pre">addoption(&quot;--long&quot;,</span> <span class="pre">dest=&quot;NAME&quot;,</span> <span class="pre">...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.parse_known_args">
<code class="descname">parse_known_args</code><span class="sig-paren">(</span><em>args</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.parse_known_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.parse_known_args" title="Permalink to this definition">¶</a></dt>
<dd><p>parses and returns a namespace object with known arguments at this
point.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.parse_known_and_unknown_args">
<code class="descname">parse_known_and_unknown_args</code><span class="sig-paren">(</span><em>args</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.parse_known_and_unknown_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.parse_known_and_unknown_args" title="Permalink to this definition">¶</a></dt>
<dd><p>parses and returns a namespace object with known arguments, and
the remaining arguments unknown at this point.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.addini">
<code class="descname">addini</code><span class="sig-paren">(</span><em>name</em>, <em>help</em>, <em>type=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.addini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.addini" title="Permalink to this definition">¶</a></dt>
<dd><p>register an ini-file option.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body">name of the ini-variable</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">type of the variable, can be <code class="docutils literal notranslate"><span class="pre">pathlist</span></code>, <code class="docutils literal notranslate"><span class="pre">args</span></code>, <code class="docutils literal notranslate"><span class="pre">linelist</span></code>
or <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">default value if no ini-file option exists but is queried.</td>
</tr>
</tbody>
</table>
<p>The value of ini-variables can be retrieved via a call to
<a class="reference internal" href="#_pytest.config.Config.getini" title="_pytest.config.Config.getini"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getini(name)</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pluginmanager">
<h3><a class="toc-backref" href="#id73">PluginManager</a><a class="headerlink" href="#pluginmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pluggy.PluginManager">
<em class="property">class </em><code class="descname">PluginManager</code><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Core <a class="reference internal" href="#pluggy.PluginManager" title="pluggy.PluginManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginManager</span></code></a> class which manages registration
of plugin objects and 1:N hook calling.</p>
<p>You can register new hooks by calling <a class="reference internal" href="#pluggy.PluginManager.add_hookspecs" title="pluggy.PluginManager.add_hookspecs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_hookspecs(module_or_class)</span></code></a>.
You can register plugin objects (which contain hooks) by calling
<a class="reference internal" href="#pluggy.PluginManager.register" title="pluggy.PluginManager.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register(plugin)</span></code></a>.  The <a class="reference internal" href="#pluggy.PluginManager" title="pluggy.PluginManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginManager</span></code></a>
is initialized with a prefix that is searched for in the names of the dict
of registered plugin objects.</p>
<p>For debugging purposes you can call <a class="reference internal" href="#pluggy.PluginManager.enable_tracing" title="pluggy.PluginManager.enable_tracing"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PluginManager.enable_tracing()</span></code></a>
which will subsequently send debug information to the trace helper.</p>
<dl class="method">
<dt id="pluggy.PluginManager.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>plugin</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a plugin and return its canonical name or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the name
is blocked from registering.  Raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the plugin
is already registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.unregister">
<code class="descname">unregister</code><span class="sig-paren">(</span><em>plugin=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>unregister a plugin object and all its contained hook implementations
from internal data structures.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.set_blocked">
<code class="descname">set_blocked</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.set_blocked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.set_blocked" title="Permalink to this definition">¶</a></dt>
<dd><p>block registrations of the given name, unregister if already registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.is_blocked">
<code class="descname">is_blocked</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.is_blocked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.is_blocked" title="Permalink to this definition">¶</a></dt>
<dd><p>return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given plugin name is blocked.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.add_hookspecs">
<code class="descname">add_hookspecs</code><span class="sig-paren">(</span><em>module_or_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.add_hookspecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.add_hookspecs" title="Permalink to this definition">¶</a></dt>
<dd><p>add new hook specifications defined in the given <code class="docutils literal notranslate"><span class="pre">module_or_class</span></code>.
Functions are recognized if they have been decorated accordingly.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_plugins">
<code class="descname">get_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>return the set of registered plugins.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.is_registered">
<code class="descname">is_registered</code><span class="sig-paren">(</span><em>plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.is_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.is_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the plugin is already registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_canonical_name">
<code class="descname">get_canonical_name</code><span class="sig-paren">(</span><em>plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_canonical_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_canonical_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return canonical name for a plugin object. Note that a plugin
may be registered under a different name which was specified
by the caller of <a class="reference internal" href="#pluggy.PluginManager.register" title="pluggy.PluginManager.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register(plugin,</span> <span class="pre">name)</span></code></a>.
To obtain the name of an registered plugin use <a class="reference internal" href="#pluggy.PluginManager.get_name" title="pluggy.PluginManager.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name(plugin)</span></code></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_plugin">
<code class="descname">get_plugin</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a plugin or <code class="docutils literal notranslate"><span class="pre">None</span></code> for the given name.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.has_plugin">
<code class="descname">has_plugin</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.has_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.has_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if a plugin with the given name is registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_name">
<code class="descname">get_name</code><span class="sig-paren">(</span><em>plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return name for registered plugin or <code class="docutils literal notranslate"><span class="pre">None</span></code> if not registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.check_pending">
<code class="descname">check_pending</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.check_pending"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.check_pending" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that all hooks which have not been verified against
a hook specification are optional, otherwise raise <code class="xref py py-class docutils literal notranslate"><span class="pre">PluginValidationError</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.load_setuptools_entrypoints">
<code class="descname">load_setuptools_entrypoints</code><span class="sig-paren">(</span><em>group</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.load_setuptools_entrypoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.load_setuptools_entrypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Load modules from querying the specified setuptools <code class="docutils literal notranslate"><span class="pre">group</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – entry point group to load plugins</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – if given, loads only plugins with the given <code class="docutils literal notranslate"><span class="pre">name</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">return the number of loaded plugins by this call.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.list_plugin_distinfo">
<code class="descname">list_plugin_distinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.list_plugin_distinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.list_plugin_distinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of distinfo/plugin tuples for all setuptools registered
plugins.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.list_name_plugin">
<code class="descname">list_name_plugin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.list_name_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.list_name_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of name/plugin pairs.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_hookcallers">
<code class="descname">get_hookcallers</code><span class="sig-paren">(</span><em>plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_hookcallers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_hookcallers" title="Permalink to this definition">¶</a></dt>
<dd><p>get all hook callers for the specified plugin.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.add_hookcall_monitoring">
<code class="descname">add_hookcall_monitoring</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.add_hookcall_monitoring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.add_hookcall_monitoring" title="Permalink to this definition">¶</a></dt>
<dd><p>add before/after tracing functions for all hooks
and return an undo function which, when called,
will remove the added tracers.</p>
<p><code class="docutils literal notranslate"><span class="pre">before(hook_name,</span> <span class="pre">hook_impls,</span> <span class="pre">kwargs)</span></code> will be called ahead
of all hook calls and receive a hookcaller instance, a list
of HookImpl instances and the keyword arguments for the hook call.</p>
<p><code class="docutils literal notranslate"><span class="pre">after(outcome,</span> <span class="pre">hook_name,</span> <span class="pre">hook_impls,</span> <span class="pre">kwargs)</span></code> receives the
same arguments as <code class="docutils literal notranslate"><span class="pre">before</span></code> but also a <a class="reference internal" href="#pluggy.callers._Result" title="pluggy.callers._Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">pluggy.callers._Result</span></code></a> object
which represents the result of the overall hook call.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.enable_tracing">
<code class="descname">enable_tracing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.enable_tracing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.enable_tracing" title="Permalink to this definition">¶</a></dt>
<dd><p>enable tracing of hook calls and return an undo function.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.subset_hook_caller">
<code class="descname">subset_hook_caller</code><span class="sig-paren">(</span><em>name</em>, <em>remove_plugins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.subset_hook_caller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.subset_hook_caller" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <code class="xref py py-class docutils literal notranslate"><span class="pre">hooks._HookCaller</span></code> instance for the named method
which manages calls to all registered plugins except the
ones from remove_plugins.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytestpluginmanager">
<h3><a class="toc-backref" href="#id74">PytestPluginManager</a><a class="headerlink" href="#pytestpluginmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.PytestPluginManager">
<em class="property">class </em><code class="descname">PytestPluginManager</code><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pluggy.manager.PluginManager</span></code></p>
<p>Overwrites <a class="reference internal" href="#pluggy.PluginManager" title="pluggy.PluginManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">pluggy.PluginManager</span></code></a> to add pytest-specific
functionality:</p>
<ul class="simple">
<li>loading plugins from the command line, <code class="docutils literal notranslate"><span class="pre">PYTEST_PLUGINS</span></code> env variable and
<code class="docutils literal notranslate"><span class="pre">pytest_plugins</span></code> global variables found in plugins being loaded;</li>
<li><code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> loading during start-up;</li>
</ul>
<dl class="method">
<dt id="_pytest.config.PytestPluginManager.addhooks">
<code class="descname">addhooks</code><span class="sig-paren">(</span><em>module_or_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.addhooks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.addhooks" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.8.</span></p>
</div>
<p>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">pluggy.PluginManager.add_hookspecs</span></code>
instead.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.parse_hookimpl_opts">
<code class="descname">parse_hookimpl_opts</code><span class="sig-paren">(</span><em>plugin</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.parse_hookimpl_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.parse_hookimpl_opts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.parse_hookspec_opts">
<code class="descname">parse_hookspec_opts</code><span class="sig-paren">(</span><em>module_or_class</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.parse_hookspec_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.parse_hookspec_opts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>plugin</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a plugin and return its canonical name or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the name
is blocked from registering.  Raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the plugin
is already registered.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.getplugin">
<code class="descname">getplugin</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.getplugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.getplugin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.hasplugin">
<code class="descname">hasplugin</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.hasplugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.hasplugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the plugin with the given name is registered.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.pytest_configure">
<code class="descname">pytest_configure</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.pytest_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.pytest_configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_preparse">
<code class="descname">consider_preparse</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_preparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_preparse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_pluginarg">
<code class="descname">consider_pluginarg</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_pluginarg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_pluginarg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_conftest">
<code class="descname">consider_conftest</code><span class="sig-paren">(</span><em>conftestmodule</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_conftest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_conftest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_env">
<code class="descname">consider_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_module">
<code class="descname">consider_module</code><span class="sig-paren">(</span><em>mod</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.import_plugin">
<code class="descname">import_plugin</code><span class="sig-paren">(</span><em>modname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.import_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.import_plugin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="session">
<h3><a class="toc-backref" href="#id75">Session</a><a class="headerlink" href="#session" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.main.Session">
<em class="property">class </em><code class="descname">Session</code><a class="reference internal" href="_modules/_pytest/main.html#Session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.main.Session" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.FSCollector" title="_pytest.nodes.FSCollector"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.FSCollector</span></code></a></p>
<dl class="exception">
<dt id="_pytest.main.Session.Interrupted">
<em class="property">exception </em><code class="descname">Interrupted</code><a class="headerlink" href="#_pytest.main.Session.Interrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a></p>
<p>signals an interrupted test run.</p>
</dd></dl>

<dl class="exception">
<dt id="_pytest.main.Session.Failed">
<em class="property">exception </em><code class="descname">Failed</code><a class="headerlink" href="#_pytest.main.Session.Failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>signals a stop as failed test run.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.main.Session.collect">
<em class="property">for ... in </em><code class="descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/main.html#Session.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.main.Session.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="testreport">
<h3><a class="toc-backref" href="#id76">TestReport</a><a class="headerlink" href="#testreport" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.runner.TestReport">
<em class="property">class </em><code class="descname">TestReport</code><a class="reference internal" href="_modules/_pytest/reports.html#TestReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.runner.TestReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic test report object (also used for setup and teardown calls if
they fail).</p>
<dl class="attribute">
<dt id="_pytest.runner.TestReport.nodeid">
<code class="descname">nodeid</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.nodeid" title="Permalink to this definition">¶</a></dt>
<dd><p>normalized collection node id</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.location">
<code class="descname">location</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.location" title="Permalink to this definition">¶</a></dt>
<dd><p>a (filesystempath, lineno, domaininfo) tuple indicating the
actual location of a test item - it might be different from the
collected one e.g. if a method is inherited from a different module.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.keywords">
<code class="descname">keywords</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>a name -&gt; value dictionary containing all keywords and
markers associated with a test invocation.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.outcome">
<code class="descname">outcome</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.outcome" title="Permalink to this definition">¶</a></dt>
<dd><p>test outcome, always one of “passed”, “failed”, “skipped”.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.longrepr">
<code class="descname">longrepr</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.longrepr" title="Permalink to this definition">¶</a></dt>
<dd><p>None or a failure representation.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.when">
<code class="descname">when</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.when" title="Permalink to this definition">¶</a></dt>
<dd><p>one of ‘setup’, ‘call’, ‘teardown’ to indicate runtest phase.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.user_properties">
<code class="descname">user_properties</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.user_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>user properties is a list of tuples (name, value) that holds user
defined properties of the test</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.sections">
<code class="descname">sections</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>list of pairs <code class="docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">str)</span></code> of extra information which needs to
marshallable. Used by pytest to add captured text
from <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code>, but may be used by other plugins
to add arbitrary information to reports.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.duration">
<code class="descname">duration</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>time it took to run just the test</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.caplog">
<code class="descname">caplog</code><a class="headerlink" href="#_pytest.runner.TestReport.caplog" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured log lines, if log capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.5.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.capstderr">
<code class="descname">capstderr</code><a class="headerlink" href="#_pytest.runner.TestReport.capstderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured text from stderr, if capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.capstdout">
<code class="descname">capstdout</code><a class="headerlink" href="#_pytest.runner.TestReport.capstdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured text from stdout, if capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.longreprtext">
<code class="descname">longreprtext</code><a class="headerlink" href="#_pytest.runner.TestReport.longreprtext" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property that returns the full string representation
of <code class="docutils literal notranslate"><span class="pre">longrepr</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="result">
<h3><a class="toc-backref" href="#id77">_Result</a><a class="headerlink" href="#result" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pluggy.callers._Result">
<em class="property">class </em><code class="descname">_Result</code><span class="sig-paren">(</span><em>result</em>, <em>excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="pluggy.callers._Result.result">
<code class="descname">result</code><a class="headerlink" href="#pluggy.callers._Result.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the result(s) for this hook call (DEPRECATED in favor of <code class="docutils literal notranslate"><span class="pre">get_result()</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.callers._Result.force_result">
<code class="descname">force_result</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result.force_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result.force_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Force the result(s) to <code class="docutils literal notranslate"><span class="pre">result</span></code>.</p>
<p>If the hook was marked as a <code class="docutils literal notranslate"><span class="pre">firstresult</span></code> a single value should
be set otherwise set a (modified) list of results. Any exceptions
found during invocation will be deleted.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.callers._Result.get_result">
<code class="descname">get_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result.get_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the result(s) for this hook call.</p>
<p>If the hook was marked as a <code class="docutils literal notranslate"><span class="pre">firstresult</span></code> only a single value
will be returned otherwise a list of results.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="special-variables">
<h2><a class="toc-backref" href="#id78">Special Variables</a><a class="headerlink" href="#special-variables" title="Permalink to this headline">¶</a></h2>
<p>pytest treats some global variables in a special manner when defined in a test module.</p>
<div class="section" id="pytest-plugins">
<h3><a class="toc-backref" href="#id79">pytest_plugins</a><a class="headerlink" href="#pytest-plugins" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="plugins.html#available-installable-plugins"><span class="std std-ref">Requiring/Loading plugins in a test module or conftest file</span></a></p>
<p>Can be declared at the <strong>global</strong> level in <em>test modules</em> and <em>conftest.py files</em> to register additional plugins.
Can be either a <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">Sequence[str]</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s2">&quot;myapp.testsupport.myplugin&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;myapp.testsupport.tools&quot;</span><span class="p">,</span> <span class="s2">&quot;myapp.testsupport.regression&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pytest-mark">
<h3><a class="toc-backref" href="#id80">pytest_mark</a><a class="headerlink" href="#pytest-mark" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/markers.html#scoped-marking"><span class="std std-ref">Marking whole classes or modules</span></a></p>
<p>Can be declared at the <strong>global</strong> level in <em>test modules</em> to apply one or more <a class="reference internal" href="#marks-ref"><span class="std std-ref">marks</span></a> to all
test functions and methods. Can be either a single mark or a sequence of marks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">webtest</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="p">(</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">slow</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pytest-dont-rewrite-module-docstring">
<h3><a class="toc-backref" href="#id81">PYTEST_DONT_REWRITE (module docstring)</a><a class="headerlink" href="#pytest-dont-rewrite-module-docstring" title="Permalink to this headline">¶</a></h3>
<p>The text <code class="docutils literal notranslate"><span class="pre">PYTEST_DONT_REWRITE</span></code> can be add to any <strong>module docstring</strong> to disable
<a class="reference internal" href="assert.html#assert-introspection"><span class="std std-ref">assertion rewriting</span></a> for that module.</p>
</div>
</div>
<div class="section" id="environment-variables">
<h2><a class="toc-backref" href="#id82">Environment Variables</a><a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Environment variables that can be used to change pytest’s behavior.</p>
<div class="section" id="pytest-addopts">
<h3><a class="toc-backref" href="#id83">PYTEST_ADDOPTS</a><a class="headerlink" href="#pytest-addopts" title="Permalink to this headline">¶</a></h3>
<p>This contains a command-line (parsed by the py:mod:<cite>shlex</cite> module) that will be <strong>prepended</strong> to the command line given
by the user, see <a class="reference internal" href="customize.html#adding-default-options"><span class="std std-ref">How to change command line options defaults</span></a> for more information.</p>
</div>
<div class="section" id="pytest-debug">
<h3><a class="toc-backref" href="#id84">PYTEST_DEBUG</a><a class="headerlink" href="#pytest-debug" title="Permalink to this headline">¶</a></h3>
<p>When set, pytest will print tracing and debug information.</p>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id85">PYTEST_PLUGINS</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Contains comma-separated list of modules that should be loaded as plugins:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PYTEST_PLUGINS</span><span class="o">=</span>mymodule.plugin,xdist
</pre></div>
</div>
</div>
<div class="section" id="pytest-disable-plugin-autoload">
<h3><a class="toc-backref" href="#id86">PYTEST_DISABLE_PLUGIN_AUTOLOAD</a><a class="headerlink" href="#pytest-disable-plugin-autoload" title="Permalink to this headline">¶</a></h3>
<p>When set, disables plugin auto-loading through setuptools entrypoints. Only explicitly specified plugins will be
loaded.</p>
</div>
<div class="section" id="pytest-current-test">
<h3><a class="toc-backref" href="#id87">PYTEST_CURRENT_TEST</a><a class="headerlink" href="#pytest-current-test" title="Permalink to this headline">¶</a></h3>
<p>This is not meant to be set by users, but is set by pytest internally with the name of the current test so other
processes can inspect it, see <a class="reference internal" href="example/simple.html#pytest-current-test-env"><span class="std std-ref">PYTEST_CURRENT_TEST environment variable</span></a> for more information.</p>
</div>
</div>
<div class="section" id="configuration-options">
<span id="ini-options-ref"></span><h2><a class="toc-backref" href="#id88">Configuration Options</a><a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>Here is a list of builtin configuration options that may be written in a <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code>, <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>
file, usually located at the root of your repository. All options must be under a <code class="docutils literal notranslate"><span class="pre">[pytest]</span></code> section
(<code class="docutils literal notranslate"><span class="pre">[tool:pytest]</span></code> for <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> files).</p>
<p>Configuration file options may be overwritten in the command-line by using <code class="docutils literal notranslate"><span class="pre">-o/--override</span></code>, which can also be
passed multiple times. The expected format is <code class="docutils literal notranslate"><span class="pre">name=value</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">o</span> <span class="n">console_output_style</span><span class="o">=</span><span class="n">classic</span> <span class="o">-</span><span class="n">o</span> <span class="n">cache_dir</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mycache</span>
</pre></div>
</div>
<dl class="confval">
<dt id="confval-addopts">
<code class="descname">addopts</code><a class="headerlink" href="#confval-addopts" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the specified <code class="docutils literal notranslate"><span class="pre">OPTS</span></code> to the set of command line arguments as if they
had been specified by the user. Example: if you have this ini file content:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">addopts</span> <span class="o">=</span> <span class="s">--maxfail=2 -rf  # exit after 2 failures, report fail info</span>
</pre></div>
</div>
<p>issuing <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">test_hello.py</span></code> actually means:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">--</span><span class="n">maxfail</span><span class="o">=</span><span class="mi">2</span> <span class="o">-</span><span class="n">rf</span> <span class="n">test_hello</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Default is to add no options.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-cache_dir">
<code class="descname">cache_dir</code><a class="headerlink" href="#confval-cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.2.</span></p>
</div>
<p>Sets a directory where stores content of cache plugin. Default directory is
<code class="docutils literal notranslate"><span class="pre">.pytest_cache</span></code> which is created in <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a>. Directory may be
relative or absolute path. If setting relative path, then directory is created
relative to <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a>. Additionally path may contain environment
variables, that will be expanded. For more information about cache plugin
please refer to <a class="reference internal" href="cache.html#cache-provider"><span class="std std-ref">Cache: working with cross-testrun state</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-confcutdir">
<code class="descname">confcutdir</code><a class="headerlink" href="#confval-confcutdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a directory where search upwards for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files stops.
By default, pytest will stop searching for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files upwards
from <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code>/<code class="docutils literal notranslate"><span class="pre">tox.ini</span></code>/<code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> of the project if any,
or up to the file-system root.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-console_output_style">
<code class="descname">console_output_style</code><a class="headerlink" href="#confval-console_output_style" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets the console output style while running tests:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">classic</span></code>: classic pytest output.</li>
<li><code class="docutils literal notranslate"><span class="pre">progress</span></code>: like classic pytest output, but with a progress indicator.</li>
<li><code class="docutils literal notranslate"><span class="pre">count</span></code>: like progress, but shows progress as the number of tests completed instead of a percent.</li>
</ul>
<p>The default is <code class="docutils literal notranslate"><span class="pre">progress</span></code>, but you can fallback to <code class="docutils literal notranslate"><span class="pre">classic</span></code> if you prefer or
the new mode is causing unexpected problems:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">console_output_style</span> <span class="o">=</span> <span class="s">classic</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-doctest_encoding">
<code class="descname">doctest_encoding</code><a class="headerlink" href="#confval-doctest_encoding" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.1.</span></p>
</div>
<p>Default encoding to use to decode text files with docstrings.
<a class="reference internal" href="doctest.html"><span class="doc">See how pytest handles doctests</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-doctest_optionflags">
<code class="descname">doctest_optionflags</code><a class="headerlink" href="#confval-doctest_optionflags" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more doctest flag names from the standard <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module.
<a class="reference internal" href="doctest.html"><span class="doc">See how pytest handles doctests</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-empty_parameter_set_mark">
<code class="descname">empty_parameter_set_mark</code><a class="headerlink" href="#confval-empty_parameter_set_mark" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.4.</span></p>
</div>
<p>Allows to pick the action for empty parametersets in parameterization</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">skip</span></code> skips tests with an empty parameterset (default)</li>
<li><code class="docutils literal notranslate"><span class="pre">xfail</span></code> marks tests with an empty parameterset as xfail(run=False)</li>
<li><code class="docutils literal notranslate"><span class="pre">fail_at_collect</span></code> raises an exception if parametrize collects an empty parameter set</li>
</ul>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">empty_parameter_set_mark</span> <span class="o">=</span> <span class="s">xfail</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default value of this option is planned to change to <code class="docutils literal notranslate"><span class="pre">xfail</span></code> in future releases
as this is considered less error prone, see <a class="reference external" href="https://github.com/pytest-dev/pytest/issues/3155">#3155</a>
for more details.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-filterwarnings">
<code class="descname">filterwarnings</code><a class="headerlink" href="#confval-filterwarnings" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.1.</span></p>
</div>
<p>Sets a list of filters and actions that should be taken for matched
warnings. By default all warnings emitted during the test session
will be displayed in a summary at the end of the test session.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">filterwarnings</span> <span class="o">=</span><span class="s"></span>
<span class="s">    error</span>
<span class="s">    ignore::DeprecationWarning</span>
</pre></div>
</div>
<p>This tells pytest to ignore deprecation warnings and turn all other warnings
into errors. For more information please refer to <a class="reference internal" href="warnings.html#warnings"><span class="std std-ref">Warnings Capture</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_suite_name">
<code class="descname">junit_suite_name</code><a class="headerlink" href="#confval-junit_suite_name" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.1.</span></p>
</div>
<p>To set the name of the root test suite xml item, you can configure the <code class="docutils literal notranslate"><span class="pre">junit_suite_name</span></code> option in your config file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_suite_name</span> <span class="o">=</span> <span class="s">my_suite</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_date_format">
<code class="descname">log_cli_date_format</code><a class="headerlink" href="#confval-log_cli_date_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for live logging.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_format">
<code class="descname">log_cli_format</code><a class="headerlink" href="#confval-log_cli_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format live logging messages.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_level">
<code class="descname">log_cli_level</code><a class="headerlink" href="#confval-log_cli_level" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets the minimum log message level that should be captured for live logging. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_date_format">
<code class="descname">log_date_format</code><a class="headerlink" href="#confval-log_date_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for logging capture.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file">
<code class="descname">log_file</code><a class="headerlink" href="#confval-log_file" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a file name relative to the <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> file where log messages should be written to, in addition
to the other logging facilities that are active.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file</span> <span class="o">=</span> <span class="s">logs/pytest-logs.txt</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_date_format">
<code class="descname">log_file_date_format</code><a class="headerlink" href="#confval-log_file_date_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for the logging file.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_format">
<code class="descname">log_file_format</code><a class="headerlink" href="#confval-log_file_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format logging messages redirected to the logging file.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_level">
<code class="descname">log_file_level</code><a class="headerlink" href="#confval-log_file_level" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets the minimum log message level that should be captured for the logging file. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_format">
<code class="descname">log_format</code><a class="headerlink" href="#confval-log_format" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format captured logging messages.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_level">
<code class="descname">log_level</code><a class="headerlink" href="#confval-log_level" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>Sets the minimum log message level that should be captured for logging capture. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_print">
<code class="descname">log_print</code><a class="headerlink" href="#confval-log_print" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.3.</span></p>
</div>
<p>If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, will disable displaying captured logging messages for failed tests.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_print</span> <span class="o">=</span> <span class="s">False</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-markers">
<code class="descname">markers</code><a class="headerlink" href="#confval-markers" title="Permalink to this definition">¶</a></dt>
<dd><p>List of markers that are allowed in test functions, enforced when <code class="docutils literal notranslate"><span class="pre">--strict</span></code> command-line argument is used.
You can use a marker name per line, indented from the option name.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">markers</span> <span class="o">=</span><span class="s"></span>
<span class="s">    slow</span>
<span class="s">    serial</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-minversion">
<code class="descname">minversion</code><a class="headerlink" href="#confval-minversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a minimal pytest version required for running tests.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">minversion</span> <span class="o">=</span> <span class="s">3.0  # will fail if we run with pytest-2.8</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-norecursedirs">
<code class="descname">norecursedirs</code><a class="headerlink" href="#confval-norecursedirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the directory basename patterns to avoid when recursing
for test discovery.  The individual (fnmatch-style) patterns are
applied to the basename of a directory to decide if to recurse into it.
Pattern matching characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>*       matches everything
?       matches any single character
[seq]   matches any character in seq
[!seq]  matches any char not in seq
</pre></div>
</div>
<p>Default patterns are <code class="docutils literal notranslate"><span class="pre">'.*',</span> <span class="pre">'build',</span> <span class="pre">'dist',</span> <span class="pre">'CVS',</span> <span class="pre">'_darcs',</span> <span class="pre">'{arch}',</span> <span class="pre">'*.egg',</span> <span class="pre">'venv'</span></code>.
Setting a <code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> replaces the default.  Here is an example of
how to avoid certain directories:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">norecursedirs</span> <span class="o">=</span> <span class="s">.svn _build tmp*</span>
</pre></div>
</div>
<p>This would tell <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to not look into typical subversion or
sphinx-build directories or into any <code class="docutils literal notranslate"><span class="pre">tmp</span></code> prefixed directory.</p>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">pytest</span></code> will attempt to intelligently identify and ignore a
virtualenv by the presence of an activation script.  Any directory deemed to
be the root of a virtual environment will not be considered during test
collection unless <code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code> is given.  Note also that
<code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> takes precedence over <code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code>; e.g. if
you intend to run tests in a virtualenv with a base directory that matches
<code class="docutils literal notranslate"><span class="pre">'.*'</span></code> you <em>must</em> override <code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> in addition to using the
<code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code> flag.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_classes">
<code class="descname">python_classes</code><a class="headerlink" href="#confval-python_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more name prefixes or glob-style patterns determining which classes
are considered for test collection. Search for multiple glob patterns by
adding a space between patterns. By default, pytest will consider any
class prefixed with <code class="docutils literal notranslate"><span class="pre">Test</span></code> as a test collection.  Here is an example of how
to collect tests from classes that end in <code class="docutils literal notranslate"><span class="pre">Suite</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_classes</span> <span class="o">=</span> <span class="s">*Suite</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> derived classes are always collected
regardless of this option, as <code class="docutils literal notranslate"><span class="pre">unittest</span></code>’s own collection framework is used
to collect those tests.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_files">
<code class="descname">python_files</code><a class="headerlink" href="#confval-python_files" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more Glob-style file patterns determining which python files
are considered as test modules. Search for multiple glob patterns by
adding a space between patterns:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_files</span> <span class="o">=</span> <span class="s">test_*.py check_*.py example_*.py</span>
</pre></div>
</div>
<p>Or one per line:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_files</span> <span class="o">=</span><span class="s"></span>
<span class="s">    test_*.py</span>
<span class="s">    check_*.py</span>
<span class="s">    example_*.py</span>
</pre></div>
</div>
<p>By default, files matching <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code> and <code class="docutils literal notranslate"><span class="pre">*_test.py</span></code> will be considered
test modules.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_functions">
<code class="descname">python_functions</code><a class="headerlink" href="#confval-python_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more name prefixes or glob-patterns determining which test functions
and methods are considered tests. Search for multiple glob patterns by
adding a space between patterns. By default, pytest will consider any
function prefixed with <code class="docutils literal notranslate"><span class="pre">test</span></code> as a test.  Here is an example of how
to collect test functions and methods that end in <code class="docutils literal notranslate"><span class="pre">_test</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_functions</span> <span class="o">=</span> <span class="s">*_test</span>
</pre></div>
</div>
<p>Note that this has no effect on methods that live on a <code class="docutils literal notranslate"><span class="pre">unittest</span>
<span class="pre">.TestCase</span></code> derived class, as <code class="docutils literal notranslate"><span class="pre">unittest</span></code>’s own collection framework is used
to collect those tests.</p>
<p>See <a class="reference internal" href="example/pythoncollection.html#change-naming-conventions"><span class="std std-ref">Changing naming conventions</span></a> for more detailed examples.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-testpaths">
<code class="descname">testpaths</code><a class="headerlink" href="#confval-testpaths" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 2.8.</span></p>
</div>
<p>Sets list of directories that should be searched for tests when
no specific directories, files or test ids are given in the command line when
executing pytest from the <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a> directory.
Useful when all project tests are in a known location to speed up
test collection and to avoid picking up undesired tests by accident.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">testpaths</span> <span class="o">=</span> <span class="s">testing doc</span>
</pre></div>
</div>
<p>This tells pytest to only look for tests in <code class="docutils literal notranslate"><span class="pre">testing</span></code> and <code class="docutils literal notranslate"><span class="pre">doc</span></code>
directories when executing from the root directory.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-usefixtures">
<code class="descname">usefixtures</code><a class="headerlink" href="#confval-usefixtures" title="Permalink to this definition">¶</a></dt>
<dd><p>List of fixtures that will be applied to all test functions; this is semantically the same to apply
the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.usefixtures</span></code> marker to all test functions.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">usefixtures</span> <span class="o">=</span><span class="s"></span>
<span class="s">    clean_db</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-xfail_strict">
<code class="descname">xfail_strict</code><a class="headerlink" href="#confval-xfail_strict" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, tests marked with <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.xfail</span></code> that actually succeed will by default fail the
test suite.
For more information, see <a class="reference internal" href="skipping.html#xfail-strict-tutorial"><span class="std std-ref">strict parameter</span></a>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">xfail_strict</span> <span class="o">=</span> <span class="s">True</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="goodpractices.html" title="Good Integration Practices"
             >next</a></li>
        <li class="right" >
          <a href="logging.html" title="Logging"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">pytest-3.10</a> &#187;</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015–2018 , holger krekel and pytest-dev team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7597274-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>